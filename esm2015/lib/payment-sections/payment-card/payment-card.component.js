import { Component, Output, EventEmitter } from '@angular/core';
import { Validators } from '@angular/forms';
import * as i0 from "@angular/core";
import * as i1 from "@angular/forms";
import * as i2 from "ngx-card";
export class PaymentCardComponent {
    constructor(fb) {
        this.fb = fb;
        this.payEmitter = new EventEmitter();
        this.storedCards = [];
        this.cardType = '';
        this.card = false;
        this.cardwidth = 350;
        this.messages = { validDate: 'valid\ndate', monthYear: 'mm/yy' }; //Strings for translation
        this.placeholders = { number: '•••• •••• •••• ••••', name: 'Full Name', expiry: '••/••', cvc: '•••' }; // Placeholders for rendered fields
        this.formatting = true;
        this.debug = true; // If true, will log helpful messages for setting up Card
        this.companyNameSelected = false;
        this.isCardNumberLength = true;
    }
    ngOnInit() {
        this.payEmitter.emit(true);
    }
    dropdown(val) {
        this.cardType = false;
        this.payEmitter.emit(false);
        // this.translate.get("Use existing credit card").subscribe(translations => {
        //   if(val.value== translations){
        //     this.card=true
        //     if(this.storedCards.length == 1){
        //       this.cardSelected(this.storedCards[0].id,'ts')
        //     }
        //   }
        //   else{
        //     this.card=false
        //     this.buildCreditForms()
        //   }
        // })
    }
    buildCreditForms() {
        let date = new Date().toISOString().slice(0, 10);
        this.creditForm = this.fb.group({
            payment: this.fb.group({
                'amount': [,],
                'cardCharge': [this.userData.cardCharges[this.userData.cardCharges.length - 1].charge,],
                'cardName': [this.userData.customerDetails.customerName, [Validators.required]],
                'cardNumber': ['', [Validators.required, 'c']],
                'cardCvc': ['', [Validators.required, Validators.maxLength(3), Validators.maxLength(4)]],
                'paymentDate': [date,],
                'description': ["Invoice no : #" + this.userData.invoiceDetails.invoiceNumber],
                'isportal': [true,],
                'reference': ['Invoice no : #' + this.userData.invoiceDetails.invoiceNumber,],
                'email': [this.userData.customerDetails.emailId, [Validators.required, Validators.email]],
                'expiry': ['', [Validators.required, '']],
                "paymentMethod": [this.userData.cardCharges[this.userData.cardCharges.length - 1].paymentMethodId],
                "dontSendToAccounts": [''],
            })
        });
        this.placeholders = { name: this.userData.customerDetails.customerName ? this.userData.customerDetails.customerName : 'Full Name' };
    }
    companyNameClick() {
        this.companyNameSelected = !this.companyNameSelected;
        this.creditForm.patchValue({ 'payment': { 'cardName': '' } });
    }
    keypress() {
        this.payEmitter.emit(this.creditForm);
    }
    setCardType() {
        this.cardType = this.detectCardType(this.creditForm.value.payment.cardNumber.replace(/\s/g, ""));
        var cardStatus = this.creditForm.get('payment.cardNumber');
        if (this.isCardNumberLength && (cardStatus === null || cardStatus === void 0 ? void 0 : cardStatus.status) == "INVALID")
            this.isCardNumberLength = false;
        if (!this.isCardNumberLength && (cardStatus === null || cardStatus === void 0 ? void 0 : cardStatus.status) == "VALID")
            this.isCardNumberLength = true;
        this.payEmitter.emit(this.creditForm);
    }
    cardSelected(val, from) {
        val = from == 'html' ? val.value : val;
        var storedCard = this.storedCards.find((x) => x.id == val).description;
        this.cardType = storedCard.substring(0, storedCard.indexOf('ending') - 1);
        let date = new Date().toISOString().slice(0, 10);
        this.creditForm = this.fb.group({
            'paymentDate': [date, [Validators.required]],
            'description': ["Invoice no : #" + this.userData.invoiceDetails.invoiceNumber],
            'reference': ['Invoice no : #' + this.userData.invoiceDetails.invoiceNumber,],
            'paymentMethod': [this.userData.cardCharges[this.userData.cardCharges.length - 1].paymentMethodId, [Validators.required]],
            'storedCard': [val, [Validators.required]],
            'cardName': [this.userData.customerDetails.customerName, [Validators.required]],
            'amount': [],
            'cardCharge': [this.userData.cardCharges[this.userData.cardCharges.length - 1].charge,],
            'isPortal': [true],
        });
        setTimeout(() => {
            this.payEmitter.emit(this.creditForm);
        }, 100);
    }
    detectCardType(number) {
        var re = {
            electron: /^(4026|417500|4405|4508|4844|4913|4917)\d+$/,
            maestro: /^(5018|5020|5038|5612|5893|6304|6759|6761|6762|6763|0604|6390)\d+$/,
            dankort: /^(5019)\d+$/,
            interpayment: /^(636)\d+$/,
            unionpay: /^(62|88)\d+$/,
            'Visa': /^4[0-9]{12}(?:[0-9]{3})?$/,
            'MasterCard': /^5[1-5][0-9]{14}$/,
            'American Express': /^3[47][0-9]{13}$/,
            diners: /^3(?:0[0-5]|[68][0-9])[0-9]{11}$/,
            discover: /^6(?:011|5[0-9]{2})[0-9]{12}$/,
            jcb: /^(?:2131|1800|35\d{3})\d{11}$/
        };
        for (var key in re) {
            if (re[key].test(number)) {
                return key;
            }
        }
        return false;
    }
}
PaymentCardComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "12.2.17", ngImport: i0, type: PaymentCardComponent, deps: [{ token: i1.FormBuilder }], target: i0.ɵɵFactoryTarget.Component });
PaymentCardComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "12.2.17", type: PaymentCardComponent, selector: "app-payment-card", outputs: { payEmitter: "payEmitter" }, ngImport: i0, template: "<div class=\"content-group\" *ngIf=\"storedCards.length != 0\" style=\"margin-bottom:-16px\">\n    <select (change)=\"dropdown($event.target)\">\n        <option>Use existing credit card</option>\n        <option>Set up new debit or credit card</option>\n    </select><i class=\"fa-solid fa-angle-down\"></i>\n    <div class=\"vh\"></div>\n</div>\n\n<div *ngIf=\"card\">\n    <div class=\"content-group\" style=\"margin-top:32px;margin-bottom: 0;\">\n        <div class=\"lable\">Select card</div>\n        <select (change)=\"cardSelected($event.target,'html')\">\n            <option value=\"\" disabled selected hidden>Please select</option>\n        </select><i class=\"fa-solid fa-angle-down\"></i>\n    </div>\n</div>\n<div *ngIf=\"!card\">\n    <form card container=\".card-container\">\n        <div>\n        <div class=\"row\">\n            <div class=\"col-md-6 credit-card-hide\">\n                <div class=\"card-container\">\n\n                </div>\n            </div>\n            <div class=\"col-md-6\">\n                <div class=\"content-group\">\n                    <div *ngIf=\"!companyNameSelected\" class=\"lable\">Cardholder\u2019s name</div>\n                    <div *ngIf=\"companyNameSelected\" class=\"lable\">Company name</div>\n                    <input class=\"field\" type=\"text\" card-name (keyup)=\"keypress()\" >\n                    <div *ngIf=\"!companyNameSelected\" class=\"company-name-link\" (click)=\"companyNameClick()\">Or click here to use a company name</div>\n                    <div *ngIf=\"companyNameSelected\" class=\"company-name-link\" (click)=\"companyNameClick()\">Or click here to use your personal information</div>\n                </div>\n\n\n                <div class=\"content-group\">\n                    <div class=\"lable\">Card number</div>\n                    <input class=\"field\" type=\"tel\" autocomplete=\"cc-number\" card-number placeholder=\"\u2022\u2022\u2022\u2022 \u2022\u2022\u2022\u2022 \u2022\u2022\u2022\u2022 \u2022\u2022\u2022\u2022\" (keyup)=\"setCardType()\">\n                    <img *ngIf=\"cardType\" class=\"icon-align\" src=\"\" alt=\"\">\n                </div>\n                <div class=\"row row-group\">\n                    <div class=\"col content-group\">\n                        <div class=\"lable\">CVC</div>\n                        <input class=\"field\" type=\"password\" autocomplete=\"new-password\" card-cvc placeholder=\"CVC\"\n                            (keyup)=\"keypress()\">\n                    </div>\n                    <div class=\"col content-group\">\n                        <div class=\"lable\">Exp date</div>\n                        <input class=\"field\" type=\"tel\" autocomplete=\"cc-exp\" card-expiry placeholder=\"MM/YY\" (keyup)=\"keypress()\">\n                    </div>\n                </div>\n            </div>\n        </div>\n    <div class=\"content-group\" style=\"margin: 0;\">\n        <div class=\"lable\">Email address</div>\n        <input class=\"field\" type=\"text\" placeholder=\"E.g. 12345678\" (keyup)=\"keypress()\">\n        <div class=\"email-info\">This email will only be used to keep the customer updated about their payments</div>\n    </div>\n</div>\n</form>\n</div>", styles: [".content-group{margin:16px 0;font-size:14px}.content-group .vh{border-bottom:1px dashed var(--primaryBorderColor);margin:16px 0}.content-group select{cursor:pointer;appearance:none;background-color:#fff;border:1px solid var(--primaryBorderColor);border-radius:4px;padding:0 5px;color:var(--primaryTextColor)}.content-group select:focus-visible{outline:1px solid var(--inputHighlight)}.content-group .fa-angle-down{position:absolute;margin-left:-30px;margin-top:13px;color:var(--primaryTextColor)}.row-group{margin:-16px 0 0;grid-gap:24px;gap:24px}.row-group .col{padding:0}select{width:100%;height:40px}.icon-align{margin-top:4px;width:50px;position:absolute;margin-left:-54px}.lable{font-size:14px;color:var(--primaryTextColor);padding-bottom:8px}.field{width:100%;border:1px solid var(--primaryBorderColor);border-radius:4px;height:40px;padding:0 5px;color:var(--primaryTextColor)}.field:focus-visible{outline:1px solid var(--inputHighlight)}.error_field{border-color:var(--negativeButtonColour)}.error_field:focus-visible{outline:none}.company-name-link{padding-top:8px;color:var(--tertiaryButtonFontColour);cursor:pointer;max-width:-moz-fit-content;max-width:fit-content}.email-info{color:var(--positiveFoundation);margin-top:8px}.credit-card-hide{margin:auto}.card-container{margin-top:25px}.invalid-input{margin-top:5px;color:#b94a48}@media (max-width: 857px){.card-container{transform:scale(.9)}}@media (max-width: 768px){.card-container{transform:scale(.79)}.content-group{margin:12px 0}}@media (max-width: 578px){.row-group{grid-gap:16px;gap:16px}}@media (max-width: 425px){.card-container{margin-bottom:12px;margin-top:0;margin-left:0;transform:scale(.9)!important}}@media (max-width: 380px){.card-container{margin-top:0;margin-left:0;margin-bottom:0;transform:scale(.8)!important}}@media (max-width: 320px){.card-container{margin-left:-20px;margin-top:0;margin-bottom:0;transform:scale(.65)!important}}\n"], directives: [{ type: i2.NgxCard, selector: "[card]", inputs: ["formatting", "debug", "messages", "placeholders", "container", "card-width", "masks"] }, { type: i2.NgxCardNameTemplate, selector: "[card-name]" }, { type: i2.NgxCardNumberTemplate, selector: "[card-number]" }, { type: i2.NgxCardCvcTemplate, selector: "[card-cvc]" }, { type: i2.NgxCardExpiryTemplate, selector: "[card-expiry]" }] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "12.2.17", ngImport: i0, type: PaymentCardComponent, decorators: [{
            type: Component,
            args: [{
                    selector: 'app-payment-card',
                    templateUrl: './payment-card.component.html',
                    styleUrls: ['./payment-card.component.scss']
                }]
        }], ctorParameters: function () { return [{ type: i1.FormBuilder }]; }, propDecorators: { payEmitter: [{
                type: Output
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGF5bWVudC1jYXJkLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL3BhcmVudHBheW1lbnQvc3JjL2xpYi9wYXltZW50LXNlY3Rpb25zL3BheW1lbnQtY2FyZC9wYXltZW50LWNhcmQuY29tcG9uZW50LnRzIiwiLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvcGFyZW50cGF5bWVudC9zcmMvbGliL3BheW1lbnQtc2VjdGlvbnMvcGF5bWVudC1jYXJkL3BheW1lbnQtY2FyZC5jb21wb25lbnQuaHRtbCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsU0FBUyxFQUFpQixNQUFNLEVBQUUsWUFBWSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQy9FLE9BQU8sRUFBdUMsVUFBVSxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7Ozs7QUFNakYsTUFBTSxPQUFPLG9CQUFvQjtJQVEvQixZQUNVLEVBQWU7UUFBZixPQUFFLEdBQUYsRUFBRSxDQUFhO1FBUGYsZUFBVSxHQUFxQixJQUFJLFlBQVksRUFBTyxDQUFDO1FBR2pFLGdCQUFXLEdBQU0sRUFBRSxDQUFDO1FBQ3BCLGFBQVEsR0FBTSxFQUFFLENBQUM7UUFLakIsU0FBSSxHQUFTLEtBQUssQ0FBQztRQUVuQixjQUFTLEdBQVcsR0FBRyxDQUFDO1FBQ3hCLGFBQVEsR0FBUSxFQUFDLFNBQVMsRUFBRSxhQUFhLEVBQUUsU0FBUyxFQUFFLE9BQU8sRUFBQyxDQUFDLENBQUUseUJBQXlCO1FBQzFGLGlCQUFZLEdBQVEsRUFBQyxNQUFNLEVBQUUscUJBQXFCLEVBQUUsSUFBSSxFQUFFLFdBQVcsRUFBRSxNQUFNLEVBQUUsT0FBTyxFQUFFLEdBQUcsRUFBRSxLQUFLLEVBQUMsQ0FBQSxDQUFDLG1DQUFtQztRQUV2SSxlQUFVLEdBQVksSUFBSSxDQUFDO1FBQzNCLFVBQUssR0FBWSxJQUFJLENBQUMsQ0FBQyx5REFBeUQ7UUFHaEYsd0JB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c291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50LCBPbkluaXQgLElucHV0ICxPdXRwdXQsIEV2ZW50RW1pdHRlciB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgRm9ybUJ1aWxkZXIsIEZvcm1Db250cm9sLCBGb3JtR3JvdXAsIFZhbGlkYXRvcnMgfSBmcm9tICdAYW5ndWxhci9mb3Jtcyc7XG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdhcHAtcGF5bWVudC1jYXJkJyxcbiAgdGVtcGxhdGVVcmw6ICcuL3BheW1lbnQtY2FyZC5jb21wb25lbnQuaHRtbCcsXG4gIHN0eWxlVXJsczogWycuL3BheW1lbnQtY2FyZC5jb21wb25lbnQuc2NzcyddXG59KVxuZXhwb3J0IGNsYXNzIFBheW1lbnRDYXJkQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0IHtcblxuICBAT3V0cHV0KCkgcGF5RW1pdHRlcjpFdmVudEVtaXR0ZXI8YW55PiA9IG5ldyBFdmVudEVtaXR0ZXI8YW55PigpO1xuICBcbiAgdXNlckRhdGE6IGFueTtcbiAgc3RvcmVkQ2FyZHM6IGFueT1bXTtcbiAgY2FyZFR5cGU6IGFueT0nJztcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwcml2YXRlIGZiOiBGb3JtQnVpbGRlcixcbiAgKSB7IH1cbiAgY2FyZDpib29sZWFuPWZhbHNlO1xuICBjb250YWluZXI6IGFueTtcbiAgY2FyZHdpZHRoOiBOdW1iZXIgPSAzNTA7XG4gIG1lc3NhZ2VzOiBhbnkgPSB7dmFsaWREYXRlOiAndmFsaWRcXG5kYXRlJywgbW9udGhZZWFyOiAnbW0veXknfTsgIC8vU3RyaW5ncyBmb3IgdHJhbnNsYXRpb25cbiAgcGxhY2Vob2xkZXJzOiBhbnkgPSB7bnVtYmVyOiAn4oCi4oCi4oCi4oCiIOKAouKAouKAouKAoiDigKLigKLigKLigKIg4oCi4oCi4oCi4oCiJywgbmFtZTogJ0Z1bGwgTmFtZScsIGV4cGlyeTogJ+KAouKAoi/igKLigKInLCBjdmM6ICfigKLigKLigKInfSAvLyBQbGFjZWhvbGRlcnMgZm9yIHJlbmRlcmVkIGZpZWxkc1xuICBtYXNrczogYW55O1xuICBmb3JtYXR0aW5nOiBib29sZWFuID0gdHJ1ZTtcbiAgZGVidWc6IGJvb2xlYW4gPSB0cnVlOyAvLyBJZiB0cnVlLCB3aWxsIGxvZyBoZWxwZnVsIG1lc3NhZ2VzIGZvciBzZXR0aW5nIHVwIENhcmRcbiAgY3JlZGl0Rm9ybSE6IEZvcm1Hcm91cDtcbiAgc3VtbWFyeTogYW55O1xuICBjb21wYW55TmFtZVNlbGVjdGVkOmJvb2xlYW49ZmFsc2U7XG4gIGlzQ2FyZE51bWJlckxlbmd0aDogYm9vbGVhbj10cnVlO1xuXG5cbiAgbmdPbkluaXQoKTogdm9pZCB7XG4gICAgdGhpcy5wYXlFbWl0dGVyLmVtaXQodHJ1ZSk7XG4gIH1cblxuICBkcm9wZG93bih2YWw6YW55KXtcbiAgICB0aGlzLmNhcmRUeXBlPWZhbHNlO1xuICAgIHRoaXMucGF5RW1pdHRlci5lbWl0KGZhbHNlKTtcbiAgICAvLyB0aGlzLnRyYW5zbGF0ZS5nZXQoXCJVc2UgZXhpc3RpbmcgY3JlZGl0IGNhcmRcIikuc3Vic2NyaWJlKHRyYW5zbGF0aW9ucyA9PiB7XG4gICAgLy8gICBpZih2YWwudmFsdWU9PSB0cmFuc2xhdGlvbnMpe1xuICAgIC8vICAgICB0aGlzLmNhcmQ9dHJ1ZVxuICAgIC8vICAgICBpZih0aGlzLnN0b3JlZENhcmRzLmxlbmd0aCA9PSAxKXtcbiAgICAvLyAgICAgICB0aGlzLmNhcmRTZWxlY3RlZCh0aGlzLnN0b3JlZENhcmRzWzBdLmlkLCd0cycpXG4gICAgLy8gICAgIH1cbiAgICAvLyAgIH1cbiAgICAvLyAgIGVsc2V7XG4gICAgLy8gICAgIHRoaXMuY2FyZD1mYWxzZVxuICAgIC8vICAgICB0aGlzLmJ1aWxkQ3JlZGl0Rm9ybXMoKVxuICAgIC8vICAgfVxuICAgIC8vIH0pXG5cbiAgfVxuIFxuICBidWlsZENyZWRpdEZvcm1zKCl7XG4gICAgbGV0IGRhdGUgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkuc2xpY2UoMCwgMTApOyAgXG4gICAgdGhpcy5jcmVkaXRGb3JtID0gdGhpcy5mYi5ncm91cCh7XG4gICAgICBwYXltZW50OiB0aGlzLmZiLmdyb3VwKHtcbiAgICAgICdhbW91bnQnOiBbLCBdLFxuICAgICAgJ2NhcmRDaGFyZ2UnOiBbdGhpcy51c2VyRGF0YS5jYXJkQ2hhcmdlc1t0aGlzLnVzZXJEYXRhLmNhcmRDaGFyZ2VzLmxlbmd0aC0xXS5jaGFyZ2UsIF0sXG4gICAgICAnY2FyZE5hbWUnOiBbdGhpcy51c2VyRGF0YS5jdXN0b21lckRldGFpbHMuY3VzdG9tZXJOYW1lLCBbVmFsaWRhdG9ycy5yZXF1aXJlZF0gXSxcbiAgICAgICdjYXJkTnVtYmVyJzogWycnLCBbVmFsaWRhdG9ycy5yZXF1aXJlZCwgJ2MnXV0sXG4gICAgICAnY2FyZEN2Yyc6IFsnJywgW1ZhbGlkYXRvcnMucmVxdWlyZWQsIFZhbGlkYXRvcnMubWF4TGVuZ3RoKDMpLCBWYWxpZGF0b3JzLm1heExlbmd0aCg0KV1dLFxuICAgICAgJ3BheW1lbnREYXRlJzogW2RhdGUsIF0sXG4gICAgICAnZGVzY3JpcHRpb24nOiBbXCJJbnZvaWNlIG5vIDogI1wiK3RoaXMudXNlckRhdGEuaW52b2ljZURldGFpbHMuaW52b2ljZU51bWJlcl0sXG4gICAgICAnaXNwb3J0YWwnOiBbdHJ1ZSwgXSxcbiAgICAgICdyZWZlcmVuY2UnOiBbJ0ludm9pY2Ugbm8gOiAjJyt0aGlzLnVzZXJEYXRhLmludm9pY2VEZXRhaWxzLmludm9pY2VOdW1iZXIsIF0sXG4gICAgICAnZW1haWwnOiBbdGhpcy51c2VyRGF0YS5jdXN0b21lckRldGFpbHMuZW1haWxJZCxbVmFsaWRhdG9ycy5yZXF1aXJlZCwgVmFsaWRhdG9ycy5lbWFpbF1dLFxuICAgICAgJ2V4cGlyeSc6IFsnJywgW1ZhbGlkYXRvcnMucmVxdWlyZWQsICcnXV0sXG4gICAgICBcInBheW1lbnRNZXRob2RcIjpbdGhpcy51c2VyRGF0YS5jYXJkQ2hhcmdlc1t0aGlzLnVzZXJEYXRhLmNhcmRDaGFyZ2VzLmxlbmd0aC0xXS5wYXltZW50TWV0aG9kSWRdLFxuICAgICAgXCJkb250U2VuZFRvQWNjb3VudHNcIjpbJyddLFxuICAgICAgfSlcblxuICAgIH0pO1xuICAgIHRoaXMucGxhY2Vob2xkZXJzID0ge25hbWU6IHRoaXMudXNlckRhdGEuY3VzdG9tZXJEZXRhaWxzLmN1c3RvbWVyTmFtZT90aGlzLnVzZXJEYXRhLmN1c3RvbWVyRGV0YWlscy5jdXN0b21lck5hbWU6J0Z1bGwgTmFtZSd9O1xuICB9XG5cbiAgY29tcGFueU5hbWVDbGljaygpe1xuICAgIHRoaXMuY29tcGFueU5hbWVTZWxlY3RlZD0hdGhpcy5jb21wYW55TmFtZVNlbGVjdGVkO1xuICAgIHRoaXMuY3JlZGl0Rm9ybS5wYXRjaFZhbHVlKHsncGF5bWVudCc6eydjYXJkTmFtZSc6Jyd9fSk7XG4gIH1cbiAga2V5cHJlc3MoKXtcbiAgICB0aGlzLnBheUVtaXR0ZXIuZW1pdCh0aGlzLmNyZWRpdEZvcm0pO1xuICB9XG4gIHNldENhcmRUeXBlKCl7XG4gICAgdGhpcy5jYXJkVHlwZT10aGlzLmRldGVjdENhcmRUeXBlKHRoaXMuY3JlZGl0Rm9ybS52YWx1ZS5wYXltZW50LmNhcmROdW1iZXIucmVwbGFjZSgvXFxzL2csIFwiXCIpKVxuICAgIHZhciBjYXJkU3RhdHVzID0gdGhpcy5jcmVkaXRGb3JtLmdldCgncGF5bWVudC5jYXJkTnVtYmVyJylcbiAgICBpZih0aGlzLmlzQ2FyZE51bWJlckxlbmd0aCAmJiBjYXJkU3RhdHVzPy5zdGF0dXMgPT0gXCJJTlZBTElEXCIpdGhpcy5pc0NhcmROdW1iZXJMZW5ndGg9ZmFsc2U7XG4gICAgaWYoIXRoaXMuaXNDYXJkTnVtYmVyTGVuZ3RoICYmIGNhcmRTdGF0dXM/LnN0YXR1cyA9PSBcIlZBTElEXCIpdGhpcy5pc0NhcmROdW1iZXJMZW5ndGg9dHJ1ZTtcbiAgICB0aGlzLnBheUVtaXR0ZXIuZW1pdCh0aGlzLmNyZWRpdEZvcm0pO1xuICB9XG4gIGNhcmRTZWxlY3RlZCh2YWw6YW55LGZyb206c3RyaW5nKXtcbiAgICB2YWw9IGZyb209PSdodG1sJyA/dmFsLnZhbHVlOnZhbDtcbiAgICB2YXIgc3RvcmVkQ2FyZCA9IHRoaXMuc3RvcmVkQ2FyZHMuZmluZCgoeDphbnkpID0+IHguaWQgPT0gdmFsKS5kZXNjcmlwdGlvblxuICAgIHRoaXMuY2FyZFR5cGU9c3RvcmVkQ2FyZC5zdWJzdHJpbmcoMCwgc3RvcmVkQ2FyZC5pbmRleE9mKCdlbmRpbmcnKS0xKVxuICAgIGxldCBkYXRlID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpLnNsaWNlKDAsIDEwKTsgIFxuICAgIHRoaXMuY3JlZGl0Rm9ybSA9IHRoaXMuZmIuZ3JvdXAoe1xuICAgICAgICAncGF5bWVudERhdGUnIDogW2RhdGUsIFtWYWxpZGF0b3JzLnJlcXVpcmVkXSBdLFxuICAgICAgICAnZGVzY3JpcHRpb24nIDogW1wiSW52b2ljZSBubyA6ICNcIit0aGlzLnVzZXJEYXRhLmludm9pY2VEZXRhaWxzLmludm9pY2VOdW1iZXJdLFxuICAgICAgICAncmVmZXJlbmNlJyA6IFsnSW52b2ljZSBubyA6ICMnK3RoaXMudXNlckRhdGEuaW52b2ljZURldGFpbHMuaW52b2ljZU51bWJlciwgXSxcbiAgICAgICAgJ3BheW1lbnRNZXRob2QnIDogW3RoaXMudXNlckRhdGEuY2FyZENoYXJnZXNbdGhpcy51c2VyRGF0YS5jYXJkQ2hhcmdlcy5sZW5ndGgtMV0ucGF5bWVudE1ldGhvZElkLCBbVmFsaWRhdG9ycy5yZXF1aXJlZF1dLFxuICAgICAgICAnc3RvcmVkQ2FyZCcgOiBbdmFsLCBbVmFsaWRhdG9ycy5yZXF1aXJlZF1dLFxuICAgICAgICAnY2FyZE5hbWUnIDogW3RoaXMudXNlckRhdGEuY3VzdG9tZXJEZXRhaWxzLmN1c3RvbWVyTmFtZSwgW1ZhbGlkYXRvcnMucmVxdWlyZWRdXSxcbiAgICAgICAgJ2Ftb3VudCcgOiBbXSxcbiAgICAgICAgJ2NhcmRDaGFyZ2UnIDogW3RoaXMudXNlckRhdGEuY2FyZENoYXJnZXNbdGhpcy51c2VyRGF0YS5jYXJkQ2hhcmdlcy5sZW5ndGgtMV0uY2hhcmdlLCBdLFxuICAgICAgICAnaXNQb3J0YWwnIDogW3RydWVdLFxuICAgICAgfSk7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgdGhpcy5wYXlFbWl0dGVyLmVtaXQodGhpcy5jcmVkaXRGb3JtKTtcbiAgICAgIH0sIDEwMCk7XG59XG5cbmRldGVjdENhcmRUeXBlKG51bWJlcjpudW1iZXIpIHtcbiAgdmFyIHJlIDphbnkgPSB7XG4gICAgICBlbGVjdHJvbjogL14oNDAyNnw0MTc1MDB8NDQwNXw0NTA4fDQ4NDR8NDkxM3w0OTE3KVxcZCskLyxcbiAgICAgIG1hZXN0cm86IC9eKDUwMTh8NTAyMHw1MDM4fDU2MTJ8NTg5M3w2MzA0fDY3NTl8Njc2MXw2NzYyfDY3NjN8MDYwNHw2MzkwKVxcZCskLyxcbiAgICAgIGRhbmtvcnQ6IC9eKDUwMTkpXFxkKyQvLFxuICAgICAgaW50ZXJwYXltZW50OiAvXig2MzYpXFxkKyQvLFxuICAgICAgdW5pb25wYXk6IC9eKDYyfDg4KVxcZCskLyxcbiAgICAgICdWaXNhJzogL140WzAtOV17MTJ9KD86WzAtOV17M30pPyQvLFxuICAgICAgJ01hc3RlckNhcmQnOiAvXjVbMS01XVswLTldezE0fSQvLFxuICAgICAgJ0FtZXJpY2FuIEV4cHJlc3MnOiAvXjNbNDddWzAtOV17MTN9JC8sXG4gICAgICBkaW5lcnM6IC9eMyg/OjBbMC01XXxbNjhdWzAtOV0pWzAtOV17MTF9JC8sXG4gICAgICBkaXNjb3ZlcjogL142KD86MDExfDVbMC05XXsyfSlbMC05XXsxMn0kLyxcbiAgICAgIGpjYjogL14oPzoyMTMxfDE4MDB8MzVcXGR7M30pXFxkezExfSQvXG4gIH1cblxuICBmb3IodmFyIGtleSBpbiByZSkge1xuICAgICAgaWYocmVba2V5XS50ZXN0KG51bWJlcikpIHtcbiAgICAgICAgcmV0dXJuIGtleVxuICAgICAgfVxuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuXG5cbn1cbiIsIjxkaXYgY2xhc3M9XCJjb250ZW50LWdyb3VwXCIgKm5nSWY9XCJzdG9yZWRDYXJkcy5sZW5ndGggIT0gMFwiIHN0eWxlPVwibWFyZ2luLWJvdHRvbTotMTZweFwiPlxuICAgIDxzZWxlY3QgKGNoYW5nZSk9XCJkcm9wZG93bigkZXZlbnQudGFyZ2V0KVwiPlxuICAgICAgICA8b3B0aW9uPlVzZSBleGlzdGluZyBjcmVkaXQgY2FyZDwvb3B0aW9uPlxuICAgICAgICA8b3B0aW9uPlNldCB1cCBuZXcgZGViaXQgb3IgY3JlZGl0IGNhcmQ8L29wdGlvbj5cbiAgICA8L3NlbGVjdD48aSBjbGFzcz1cImZhLXNvbGlkIGZhLWFuZ2xlLWRvd25cIj48L2k+XG4gICAgPGRpdiBjbGFzcz1cInZoXCI+PC9kaXY+XG48L2Rpdj5cblxuPGRpdiAqbmdJZj1cImNhcmRcIj5cbiAgICA8ZGl2IGNsYXNzPVwiY29udGVudC1ncm91cFwiIHN0eWxlPVwibWFyZ2luLXRvcDozMnB4O21hcmdpbi1ib3R0b206IDA7XCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJsYWJsZVwiPlNlbGVjdCBjYXJkPC9kaXY+XG4gICAgICAgIDxzZWxlY3QgKGNoYW5nZSk9XCJjYXJkU2VsZWN0ZWQoJGV2ZW50LnRhcmdldCwnaHRtbCcpXCI+XG4gICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiXCIgZGlzYWJsZWQgc2VsZWN0ZWQgaGlkZGVuPlBsZWFzZSBzZWxlY3Q8L29wdGlvbj5cbiAgICAgICAgPC9zZWxlY3Q+PGkgY2xhc3M9XCJmYS1zb2xpZCBmYS1hbmdsZS1kb3duXCI+PC9pPlxuICAgIDwvZGl2PlxuPC9kaXY+XG48ZGl2ICpuZ0lmPVwiIWNhcmRcIj5cbiAgICA8Zm9ybSBjYXJkIGNvbnRhaW5lcj1cIi5jYXJkLWNvbnRhaW5lclwiPlxuICAgICAgICA8ZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwicm93XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLW1kLTYgY3JlZGl0LWNhcmQtaGlkZVwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjYXJkLWNvbnRhaW5lclwiPlxuXG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtbWQtNlwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb250ZW50LWdyb3VwXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgKm5nSWY9XCIhY29tcGFueU5hbWVTZWxlY3RlZFwiIGNsYXNzPVwibGFibGVcIj5DYXJkaG9sZGVy4oCZcyBuYW1lPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgKm5nSWY9XCJjb21wYW55TmFtZVNlbGVjdGVkXCIgY2xhc3M9XCJsYWJsZVwiPkNvbXBhbnkgbmFtZTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8aW5wdXQgY2xhc3M9XCJmaWVsZFwiIHR5cGU9XCJ0ZXh0XCIgY2FyZC1uYW1lIChrZXl1cCk9XCJrZXlwcmVzcygpXCIgPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2ICpuZ0lmPVwiIWNvbXBhbnlOYW1lU2VsZWN0ZWRcIiBjbGFzcz1cImNvbXBhbnktbmFtZS1saW5rXCIgKGNsaWNrKT1cImNvbXBhbnlOYW1lQ2xpY2soKVwiPk9yIGNsaWNrIGhlcmUgdG8gdXNlIGEgY29tcGFueSBuYW1lPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgKm5nSWY9XCJjb21wYW55TmFtZVNlbGVjdGVkXCIgY2xhc3M9XCJjb21wYW55LW5hbWUtbGlua1wiIChjbGljayk9XCJjb21wYW55TmFtZUNsaWNrKClcIj5PciBjbGljayBoZXJlIHRvIHVzZSB5b3VyIHBlcnNvbmFsIGluZm9ybWF0aW9uPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG5cblxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb250ZW50LWdyb3VwXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJsYWJsZVwiPkNhcmQgbnVtYmVyPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dCBjbGFzcz1cImZpZWxkXCIgdHlwZT1cInRlbFwiIGF1dG9jb21wbGV0ZT1cImNjLW51bWJlclwiIGNhcmQtbnVtYmVyIHBsYWNlaG9sZGVyPVwi4oCi4oCi4oCi4oCiIOKAouKAouKAouKAoiDigKLigKLigKLigKIg4oCi4oCi4oCi4oCiXCIgKGtleXVwKT1cInNldENhcmRUeXBlKClcIj5cbiAgICAgICAgICAgICAgICAgICAgPGltZyAqbmdJZj1cImNhcmRUeXBlXCIgY2xhc3M9XCJpY29uLWFsaWduXCIgc3JjPVwiXCIgYWx0PVwiXCI+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJvdyByb3ctZ3JvdXBcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbCBjb250ZW50LWdyb3VwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibGFibGVcIj5DVkM8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCBjbGFzcz1cImZpZWxkXCIgdHlwZT1cInBhc3N3b3JkXCIgYXV0b2NvbXBsZXRlPVwibmV3LXBhc3N3b3JkXCIgY2FyZC1jdmMgcGxhY2Vob2xkZXI9XCJDVkNcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChrZXl1cCk9XCJrZXlwcmVzcygpXCI+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sIGNvbnRlbnQtZ3JvdXBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJsYWJsZVwiPkV4cCBkYXRlPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgY2xhc3M9XCJmaWVsZFwiIHR5cGU9XCJ0ZWxcIiBhdXRvY29tcGxldGU9XCJjYy1leHBcIiBjYXJkLWV4cGlyeSBwbGFjZWhvbGRlcj1cIk1NL1lZXCIgKGtleXVwKT1cImtleXByZXNzKClcIj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgPGRpdiBjbGFzcz1cImNvbnRlbnQtZ3JvdXBcIiBzdHlsZT1cIm1hcmdpbjogMDtcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImxhYmxlXCI+RW1haWwgYWRkcmVzczwvZGl2PlxuICAgICAgICA8aW5wdXQgY2xhc3M9XCJmaWVsZFwiIHR5cGU9XCJ0ZXh0XCIgcGxhY2Vob2xkZXI9XCJFLmcuIDEyMzQ1Njc4XCIgKGtleXVwKT1cImtleXByZXNzKClcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImVtYWlsLWluZm9cIj5UaGlzIGVtYWlsIHdpbGwgb25seSBiZSB1c2VkIHRvIGtlZXAgdGhlIGN1c3RvbWVyIHVwZGF0ZWQgYWJvdXQgdGhlaXIgcGF5bWVudHM8L2Rpdj5cbiAgICA8L2Rpdj5cbjwvZGl2PlxuPC9mb3JtPlxuPC9kaXY+Il19