import { Component, Output, EventEmitter } from '@angular/core';
import { Validators } from '@angular/forms';
import * as i0 from "@angular/core";
import * as i1 from "@angular/forms";
export class PaymentCardComponent {
    constructor(fb) {
        this.fb = fb;
        this.payEmitter = new EventEmitter();
        this.storedCards = [];
        this.cardType = '';
        this.card = false;
        this.cardwidth = 350;
        this.messages = { validDate: 'valid\ndate', monthYear: 'mm/yy' }; //Strings for translation
        this.placeholders = { number: '•••• •••• •••• ••••', name: 'Full Name', expiry: '••/••', cvc: '•••' }; // Placeholders for rendered fields
        this.formatting = true;
        this.debug = true; // If true, will log helpful messages for setting up Card
        this.companyNameSelected = false;
        this.isCardNumberLength = true;
    }
    ngOnInit() {
        this.payEmitter.emit(true);
    }
    dropdown(val) {
        this.cardType = false;
        this.payEmitter.emit(false);
        // this.translate.get("Use existing credit card").subscribe(translations => {
        //   if(val.value== translations){
        //     this.card=true
        //     if(this.storedCards.length == 1){
        //       this.cardSelected(this.storedCards[0].id,'ts')
        //     }
        //   }
        //   else{
        //     this.card=false
        //     this.buildCreditForms()
        //   }
        // })
    }
    buildCreditForms() {
        let date = new Date().toISOString().slice(0, 10);
        this.creditForm = this.fb.group({
            payment: this.fb.group({
                'amount': [,],
                'cardCharge': [this.userData.cardCharges[this.userData.cardCharges.length - 1].charge,],
                'cardName': [this.userData.customerDetails.customerName, [Validators.required]],
                'cardNumber': ['', [Validators.required, 'c']],
                'cardCvc': ['', [Validators.required, Validators.maxLength(3), Validators.maxLength(4)]],
                'paymentDate': [date,],
                'description': ["Invoice no : #" + this.userData.invoiceDetails.invoiceNumber],
                'isportal': [true,],
                'reference': ['Invoice no : #' + this.userData.invoiceDetails.invoiceNumber,],
                'email': [this.userData.customerDetails.emailId, [Validators.required, Validators.email]],
                'expiry': ['', [Validators.required, '']],
                "paymentMethod": [this.userData.cardCharges[this.userData.cardCharges.length - 1].paymentMethodId],
                "dontSendToAccounts": [''],
            })
        });
        this.placeholders = { name: this.userData.customerDetails.customerName ? this.userData.customerDetails.customerName : 'Full Name' };
    }
    companyNameClick() {
        this.companyNameSelected = !this.companyNameSelected;
        this.creditForm.patchValue({ 'payment': { 'cardName': '' } });
    }
    keypress() {
        this.payEmitter.emit(this.creditForm);
    }
    setCardType() {
        this.cardType = this.detectCardType(this.creditForm.value.payment.cardNumber.replace(/\s/g, ""));
        var cardStatus = this.creditForm.get('payment.cardNumber');
        if (this.isCardNumberLength && (cardStatus === null || cardStatus === void 0 ? void 0 : cardStatus.status) == "INVALID")
            this.isCardNumberLength = false;
        if (!this.isCardNumberLength && (cardStatus === null || cardStatus === void 0 ? void 0 : cardStatus.status) == "VALID")
            this.isCardNumberLength = true;
        this.payEmitter.emit(this.creditForm);
    }
    cardSelected(val, from) {
        val = from == 'html' ? val.value : val;
        var storedCard = this.storedCards.find((x) => x.id == val).description;
        this.cardType = storedCard.substring(0, storedCard.indexOf('ending') - 1);
        let date = new Date().toISOString().slice(0, 10);
        this.creditForm = this.fb.group({
            'paymentDate': [date, [Validators.required]],
            'description': ["Invoice no : #" + this.userData.invoiceDetails.invoiceNumber],
            'reference': ['Invoice no : #' + this.userData.invoiceDetails.invoiceNumber,],
            'paymentMethod': [this.userData.cardCharges[this.userData.cardCharges.length - 1].paymentMethodId, [Validators.required]],
            'storedCard': [val, [Validators.required]],
            'cardName': [this.userData.customerDetails.customerName, [Validators.required]],
            'amount': [],
            'cardCharge': [this.userData.cardCharges[this.userData.cardCharges.length - 1].charge,],
            'isPortal': [true],
        });
        setTimeout(() => {
            this.payEmitter.emit(this.creditForm);
        }, 100);
    }
    detectCardType(number) {
        var re = {
            electron: /^(4026|417500|4405|4508|4844|4913|4917)\d+$/,
            maestro: /^(5018|5020|5038|5612|5893|6304|6759|6761|6762|6763|0604|6390)\d+$/,
            dankort: /^(5019)\d+$/,
            interpayment: /^(636)\d+$/,
            unionpay: /^(62|88)\d+$/,
            'Visa': /^4[0-9]{12}(?:[0-9]{3})?$/,
            'MasterCard': /^5[1-5][0-9]{14}$/,
            'American Express': /^3[47][0-9]{13}$/,
            diners: /^3(?:0[0-5]|[68][0-9])[0-9]{11}$/,
            discover: /^6(?:011|5[0-9]{2})[0-9]{12}$/,
            jcb: /^(?:2131|1800|35\d{3})\d{11}$/
        };
        for (var key in re) {
            if (re[key].test(number)) {
                return key;
            }
        }
        return false;
    }
}
PaymentCardComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "12.2.17", ngImport: i0, type: PaymentCardComponent, deps: [{ token: i1.FormBuilder }], target: i0.ɵɵFactoryTarget.Component });
PaymentCardComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "12.2.17", type: PaymentCardComponent, selector: "app-payment-card", outputs: { payEmitter: "payEmitter" }, ngImport: i0, template: "<div class=\"content-group\" *ngIf=\"storedCards.length != 0\" style=\"margin-bottom:-16px\">\n    <select (change)=\"dropdown($event.target)\">\n        <option>Use existing credit card</option>\n        <option>Set up new debit or credit card</option>\n    </select><i class=\"fa-solid fa-angle-down\"></i>\n    <div class=\"vh\"></div>\n</div>\n\n<div *ngIf=\"card\">\n    <div class=\"content-group\" style=\"margin-top:32px;margin-bottom: 0;\">\n        <div class=\"lable\">Select card</div>\n        <select (change)=\"cardSelected($event.target,'html')\">\n            <option value=\"\" disabled selected hidden>Please select</option>\n        </select><i class=\"fa-solid fa-angle-down\"></i>\n    </div>\n</div>\n<div *ngIf=\"!card\">\n    <form card container=\".card-container\">\n        <div>\n        <div class=\"row\">\n            <div class=\"col-md-6 credit-card-hide\">\n                <div class=\"card-container\">\n\n                </div>\n            </div>\n            <div class=\"col-md-6\">\n                <div class=\"content-group\">\n                    <div *ngIf=\"!companyNameSelected\" class=\"lable\">Cardholder\u2019s name</div>\n                    <div *ngIf=\"companyNameSelected\" class=\"lable\">Company name</div>\n                    <input class=\"field\" type=\"text\" card-name (keyup)=\"keypress()\" >\n                    <div *ngIf=\"!companyNameSelected\" class=\"company-name-link\" (click)=\"companyNameClick()\">Or click here to use a company name</div>\n                    <div *ngIf=\"companyNameSelected\" class=\"company-name-link\" (click)=\"companyNameClick()\">Or click here to use your personal information</div>\n                </div>\n\n\n                <div class=\"content-group\">\n                    <div class=\"lable\">Card number</div>\n                    <input class=\"field\" type=\"tel\" autocomplete=\"cc-number\" card-number placeholder=\"\u2022\u2022\u2022\u2022 \u2022\u2022\u2022\u2022 \u2022\u2022\u2022\u2022 \u2022\u2022\u2022\u2022\" (keyup)=\"setCardType()\">\n                    <img *ngIf=\"cardType\" class=\"icon-align\" src=\"\" alt=\"\">\n                </div>\n                <div class=\"row row-group\">\n                    <div class=\"col content-group\">\n                        <div class=\"lable\">CVC</div>\n                        <input class=\"field\" type=\"password\" autocomplete=\"new-password\" card-cvc placeholder=\"CVC\"\n                            (keyup)=\"keypress()\">\n                    </div>\n                    <div class=\"col content-group\">\n                        <div class=\"lable\">Exp date</div>\n                        <input class=\"field\" type=\"tel\" autocomplete=\"cc-exp\" card-expiry placeholder=\"MM/YY\" (keyup)=\"keypress()\">\n                    </div>\n                </div>\n            </div>\n        </div>\n    <div class=\"content-group\" style=\"margin: 0;\">\n        <div class=\"lable\">Email address</div>\n        <input class=\"field\" type=\"text\" placeholder=\"E.g. 12345678\" (keyup)=\"keypress()\">\n        <div class=\"email-info\">This email will only be used to keep the customer updated about their payments</div>\n    </div>\n</div>\n</form>\n</div>", styles: [".content-group{margin:16px 0;font-size:14px}.content-group .vh{border-bottom:1px dashed var(--primaryBorderColor);margin:16px 0}.content-group select{cursor:pointer;appearance:none;background-color:#fff;border:1px solid var(--primaryBorderColor);border-radius:4px;padding:0 5px;color:var(--primaryTextColor)}.content-group select:focus-visible{outline:1px solid var(--inputHighlight)}.content-group .fa-angle-down{position:absolute;margin-left:-30px;margin-top:13px;color:var(--primaryTextColor)}.row-group{margin:-16px 0 0;grid-gap:24px;gap:24px}.row-group .col{padding:0}select{width:100%;height:40px}.icon-align{margin-top:4px;width:50px;position:absolute;margin-left:-54px}.lable{font-size:14px;color:var(--primaryTextColor);padding-bottom:8px}.field{width:100%;border:1px solid var(--primaryBorderColor);border-radius:4px;height:40px;padding:0 5px;color:var(--primaryTextColor)}.field:focus-visible{outline:1px solid var(--inputHighlight)}.error_field{border-color:var(--negativeButtonColour)}.error_field:focus-visible{outline:none}.company-name-link{padding-top:8px;color:var(--tertiaryButtonFontColour);cursor:pointer;max-width:-moz-fit-content;max-width:fit-content}.email-info{color:var(--positiveFoundation);margin-top:8px}.credit-card-hide{margin:auto}.card-container{margin-top:25px}.invalid-input{margin-top:5px;color:#b94a48}@media (max-width: 857px){.card-container{transform:scale(.9)}}@media (max-width: 768px){.card-container{transform:scale(.79)}.content-group{margin:12px 0}}@media (max-width: 578px){.row-group{grid-gap:16px;gap:16px}}@media (max-width: 425px){.card-container{margin-bottom:12px;margin-top:0;margin-left:0;transform:scale(.9)!important}}@media (max-width: 380px){.card-container{margin-top:0;margin-left:0;margin-bottom:0;transform:scale(.8)!important}}@media (max-width: 320px){.card-container{margin-left:-20px;margin-top:0;margin-bottom:0;transform:scale(.65)!important}}\n"] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "12.2.17", ngImport: i0, type: PaymentCardComponent, decorators: [{
            type: Component,
            args: [{
                    selector: 'app-payment-card',
                    templateUrl: './payment-card.component.html',
                    styleUrls: ['./payment-card.component.scss']
                }]
        }], ctorParameters: function () { return [{ type: i1.FormBuilder }]; }, propDecorators: { payEmitter: [{
                type: Output
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGF5bWVudC1jYXJkLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL3BhcmVudHBheW1lbnQvc3JjL2xpYi9wYXltZW50LXNlY3Rpb25zL3BheW1lbnQtY2FyZC9wYXltZW50LWNhcmQuY29tcG9uZW50LnRzIiwiLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvcGFyZW50cGF5bWVudC9zcmMvbGliL3BheW1lbnQtc2VjdGlvbnMvcGF5bWVudC1jYXJkL3BheW1lbnQtY2FyZC5jb21wb25lbnQuaHRtbCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsU0FBUyxFQUFpQixNQUFNLEVBQUUsWUFBWSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQy9FLE9BQU8sRUFBdUMsVUFBVSxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7OztBQU1qRixNQUFNLE9BQU8sb0JBQW9CO0lBUS9CLFlBQ1UsRUFBZTtRQUFmLE9BQUUsR0FBRixFQUFFLENBQWE7UUFQZixlQUFVLEdBQXFCLElBQUksWUFBWSxFQUFPLENBQUM7UUFHakUsZ0JBQVcsR0FBTSxFQUFFLENBQUM7UUFDcEIsYUFBUSxHQUFNLEVBQUUsQ0FBQztRQUtqQixTQUFJLEdBQVMsS0FBSyxDQUFDO1FBRW5CLGNBQVMsR0FBVyxHQUFHLENBQUM7UUFDeEIsYUFBUSxHQUFRLEVBQUMsU0FBUyxFQUFFLGFBQWEsRUFBRSxTQUFTLEVBQUUsT0FBTyxFQUFDLENBQUMsQ0FBRSx5QkFBeUI7UUFDMUYsaUJBQVksR0FBUSxFQUFDLE1BQU0sRUFBRSxxQkFBcUIsRUFBRSxJQUFJLEVBQUUsV0FBVyxFQUFFLE1BQU0sRUFBRSxPQUFPLEVBQUUsR0FBRyxFQUFFLEtBQUssRUFBQyxDQUFBLENBQUMsbUNBQW1DO1FBRXZJLGVBQVUsR0FBWSxJQUFJLENBQUM7UUFDM0IsVUFBSyxHQUFZLElBQUksQ0FBQyxDQUFDLHlEQUF5RDtRQUdoRix3QkFB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b3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQsIE9uSW5pdCAsSW5wdXQgLE91dHB1dCwgRXZlbnRFbWl0dGVyIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBGb3JtQnVpbGRlciwgRm9ybUNvbnRyb2wsIEZvcm1Hcm91cCwgVmFsaWRhdG9ycyB9IGZyb20gJ0Bhbmd1bGFyL2Zvcm1zJztcbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ2FwcC1wYXltZW50LWNhcmQnLFxuICB0ZW1wbGF0ZVVybDogJy4vcGF5bWVudC1jYXJkLmNvbXBvbmVudC5odG1sJyxcbiAgc3R5bGVVcmxzOiBbJy4vcGF5bWVudC1jYXJkLmNvbXBvbmVudC5zY3NzJ11cbn0pXG5leHBvcnQgY2xhc3MgUGF5bWVudENhcmRDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQge1xuXG4gIEBPdXRwdXQoKSBwYXlFbWl0dGVyOkV2ZW50RW1pdHRlcjxhbnk+ID0gbmV3IEV2ZW50RW1pdHRlcjxhbnk+KCk7XG4gIFxuICB1c2VyRGF0YTogYW55O1xuICBzdG9yZWRDYXJkczogYW55PVtdO1xuICBjYXJkVHlwZTogYW55PScnO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHByaXZhdGUgZmI6IEZvcm1CdWlsZGVyLFxuICApIHsgfVxuICBjYXJkOmJvb2xlYW49ZmFsc2U7XG4gIGNvbnRhaW5lcjogYW55O1xuICBjYXJkd2lkdGg6IE51bWJlciA9IDM1MDtcbiAgbWVzc2FnZXM6IGFueSA9IHt2YWxpZERhdGU6ICd2YWxpZFxcbmRhdGUnLCBtb250aFllYXI6ICdtbS95eSd9OyAgLy9TdHJpbmdzIGZvciB0cmFuc2xhdGlvblxuICBwbGFjZWhvbGRlcnM6IGFueSA9IHtudW1iZXI6ICfigKLigKLigKLigKIg4oCi4oCi4oCi4oCiIOKAouKAouKAouKAoiDigKLigKLigKLigKInLCBuYW1lOiAnRnVsbCBOYW1lJywgZXhwaXJ5OiAn4oCi4oCiL+KAouKAoicsIGN2YzogJ+KAouKAouKAoid9IC8vIFBsYWNlaG9sZGVycyBmb3IgcmVuZGVyZWQgZmllbGRzXG4gIG1hc2tzOiBhbnk7XG4gIGZvcm1hdHRpbmc6IGJvb2xlYW4gPSB0cnVlO1xuICBkZWJ1ZzogYm9vbGVhbiA9IHRydWU7IC8vIElmIHRydWUsIHdpbGwgbG9nIGhlbHBmdWwgbWVzc2FnZXMgZm9yIHNldHRpbmcgdXAgQ2FyZFxuICBjcmVkaXRGb3JtITogRm9ybUdyb3VwO1xuICBzdW1tYXJ5OiBhbnk7XG4gIGNvbXBhbnlOYW1lU2VsZWN0ZWQ6Ym9vbGVhbj1mYWxzZTtcbiAgaXNDYXJkTnVtYmVyTGVuZ3RoOiBib29sZWFuPXRydWU7XG5cblxuICBuZ09uSW5pdCgpOiB2b2lkIHtcbiAgICB0aGlzLnBheUVtaXR0ZXIuZW1pdCh0cnVlKTtcbiAgfVxuXG4gIGRyb3Bkb3duKHZhbDphbnkpe1xuICAgIHRoaXMuY2FyZFR5cGU9ZmFsc2U7XG4gICAgdGhpcy5wYXlFbWl0dGVyLmVtaXQoZmFsc2UpO1xuICAgIC8vIHRoaXMudHJhbnNsYXRlLmdldChcIlVzZSBleGlzdGluZyBjcmVkaXQgY2FyZFwiKS5zdWJzY3JpYmUodHJhbnNsYXRpb25zID0+IHtcbiAgICAvLyAgIGlmKHZhbC52YWx1ZT09IHRyYW5zbGF0aW9ucyl7XG4gICAgLy8gICAgIHRoaXMuY2FyZD10cnVlXG4gICAgLy8gICAgIGlmKHRoaXMuc3RvcmVkQ2FyZHMubGVuZ3RoID09IDEpe1xuICAgIC8vICAgICAgIHRoaXMuY2FyZFNlbGVjdGVkKHRoaXMuc3RvcmVkQ2FyZHNbMF0uaWQsJ3RzJylcbiAgICAvLyAgICAgfVxuICAgIC8vICAgfVxuICAgIC8vICAgZWxzZXtcbiAgICAvLyAgICAgdGhpcy5jYXJkPWZhbHNlXG4gICAgLy8gICAgIHRoaXMuYnVpbGRDcmVkaXRGb3JtcygpXG4gICAgLy8gICB9XG4gICAgLy8gfSlcblxuICB9XG4gXG4gIGJ1aWxkQ3JlZGl0Rm9ybXMoKXtcbiAgICBsZXQgZGF0ZSA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKS5zbGljZSgwLCAxMCk7ICBcbiAgICB0aGlzLmNyZWRpdEZvcm0gPSB0aGlzLmZiLmdyb3VwKHtcbiAgICAgIHBheW1lbnQ6IHRoaXMuZmIuZ3JvdXAoe1xuICAgICAgJ2Ftb3VudCc6IFssIF0sXG4gICAgICAnY2FyZENoYXJnZSc6IFt0aGlzLnVzZXJEYXRhLmNhcmRDaGFyZ2VzW3RoaXMudXNlckRhdGEuY2FyZENoYXJnZXMubGVuZ3RoLTFdLmNoYXJnZSwgXSxcbiAgICAgICdjYXJkTmFtZSc6IFt0aGlzLnVzZXJEYXRhLmN1c3RvbWVyRGV0YWlscy5jdXN0b21lck5hbWUsIFtWYWxpZGF0b3JzLnJlcXVpcmVkXSBdLFxuICAgICAgJ2NhcmROdW1iZXInOiBbJycsIFtWYWxpZGF0b3JzLnJlcXVpcmVkLCAnYyddXSxcbiAgICAgICdjYXJkQ3ZjJzogWycnLCBbVmFsaWRhdG9ycy5yZXF1aXJlZCwgVmFsaWRhdG9ycy5tYXhMZW5ndGgoMyksIFZhbGlkYXRvcnMubWF4TGVuZ3RoKDQpXV0sXG4gICAgICAncGF5bWVudERhdGUnOiBbZGF0ZSwgXSxcbiAgICAgICdkZXNjcmlwdGlvbic6IFtcIkludm9pY2Ugbm8gOiAjXCIrdGhpcy51c2VyRGF0YS5pbnZvaWNlRGV0YWlscy5pbnZvaWNlTnVtYmVyXSxcbiAgICAgICdpc3BvcnRhbCc6IFt0cnVlLCBdLFxuICAgICAgJ3JlZmVyZW5jZSc6IFsnSW52b2ljZSBubyA6ICMnK3RoaXMudXNlckRhdGEuaW52b2ljZURldGFpbHMuaW52b2ljZU51bWJlciwgXSxcbiAgICAgICdlbWFpbCc6IFt0aGlzLnVzZXJEYXRhLmN1c3RvbWVyRGV0YWlscy5lbWFpbElkLFtWYWxpZGF0b3JzLnJlcXVpcmVkLCBWYWxpZGF0b3JzLmVtYWlsXV0sXG4gICAgICAnZXhwaXJ5JzogWycnLCBbVmFsaWRhdG9ycy5yZXF1aXJlZCwgJyddXSxcbiAgICAgIFwicGF5bWVudE1ldGhvZFwiOlt0aGlzLnVzZXJEYXRhLmNhcmRDaGFyZ2VzW3RoaXMudXNlckRhdGEuY2FyZENoYXJnZXMubGVuZ3RoLTFdLnBheW1lbnRNZXRob2RJZF0sXG4gICAgICBcImRvbnRTZW5kVG9BY2NvdW50c1wiOlsnJ10sXG4gICAgICB9KVxuXG4gICAgfSk7XG4gICAgdGhpcy5wbGFjZWhvbGRlcnMgPSB7bmFtZTogdGhpcy51c2VyRGF0YS5jdXN0b21lckRldGFpbHMuY3VzdG9tZXJOYW1lP3RoaXMudXNlckRhdGEuY3VzdG9tZXJEZXRhaWxzLmN1c3RvbWVyTmFtZTonRnVsbCBOYW1lJ307XG4gIH1cblxuICBjb21wYW55TmFtZUNsaWNrKCl7XG4gICAgdGhpcy5jb21wYW55TmFtZVNlbGVjdGVkPSF0aGlzLmNvbXBhbnlOYW1lU2VsZWN0ZWQ7XG4gICAgdGhpcy5jcmVkaXRGb3JtLnBhdGNoVmFsdWUoeydwYXltZW50Jzp7J2NhcmROYW1lJzonJ319KTtcbiAgfVxuICBrZXlwcmVzcygpe1xuICAgIHRoaXMucGF5RW1pdHRlci5lbWl0KHRoaXMuY3JlZGl0Rm9ybSk7XG4gIH1cbiAgc2V0Q2FyZFR5cGUoKXtcbiAgICB0aGlzLmNhcmRUeXBlPXRoaXMuZGV0ZWN0Q2FyZFR5cGUodGhpcy5jcmVkaXRGb3JtLnZhbHVlLnBheW1lbnQuY2FyZE51bWJlci5yZXBsYWNlKC9cXHMvZywgXCJcIikpXG4gICAgdmFyIGNhcmRTdGF0dXMgPSB0aGlzLmNyZWRpdEZvcm0uZ2V0KCdwYXltZW50LmNhcmROdW1iZXInKVxuICAgIGlmKHRoaXMuaXNDYXJkTnVtYmVyTGVuZ3RoICYmIGNhcmRTdGF0dXM/LnN0YXR1cyA9PSBcIklOVkFMSURcIil0aGlzLmlzQ2FyZE51bWJlckxlbmd0aD1mYWxzZTtcbiAgICBpZighdGhpcy5pc0NhcmROdW1iZXJMZW5ndGggJiYgY2FyZFN0YXR1cz8uc3RhdHVzID09IFwiVkFMSURcIil0aGlzLmlzQ2FyZE51bWJlckxlbmd0aD10cnVlO1xuICAgIHRoaXMucGF5RW1pdHRlci5lbWl0KHRoaXMuY3JlZGl0Rm9ybSk7XG4gIH1cbiAgY2FyZFNlbGVjdGVkKHZhbDphbnksZnJvbTpzdHJpbmcpe1xuICAgIHZhbD0gZnJvbT09J2h0bWwnID92YWwudmFsdWU6dmFsO1xuICAgIHZhciBzdG9yZWRDYXJkID0gdGhpcy5zdG9yZWRDYXJkcy5maW5kKCh4OmFueSkgPT4geC5pZCA9PSB2YWwpLmRlc2NyaXB0aW9uXG4gICAgdGhpcy5jYXJkVHlwZT1zdG9yZWRDYXJkLnN1YnN0cmluZygwLCBzdG9yZWRDYXJkLmluZGV4T2YoJ2VuZGluZycpLTEpXG4gICAgbGV0IGRhdGUgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkuc2xpY2UoMCwgMTApOyAgXG4gICAgdGhpcy5jcmVkaXRGb3JtID0gdGhpcy5mYi5ncm91cCh7XG4gICAgICAgICdwYXltZW50RGF0ZScgOiBbZGF0ZSwgW1ZhbGlkYXRvcnMucmVxdWlyZWRdIF0sXG4gICAgICAgICdkZXNjcmlwdGlvbicgOiBbXCJJbnZvaWNlIG5vIDogI1wiK3RoaXMudXNlckRhdGEuaW52b2ljZURldGFpbHMuaW52b2ljZU51bWJlcl0sXG4gICAgICAgICdyZWZlcmVuY2UnIDogWydJbnZvaWNlIG5vIDogIycrdGhpcy51c2VyRGF0YS5pbnZvaWNlRGV0YWlscy5pbnZvaWNlTnVtYmVyLCBdLFxuICAgICAgICAncGF5bWVudE1ldGhvZCcgOiBbdGhpcy51c2VyRGF0YS5jYXJkQ2hhcmdlc1t0aGlzLnVzZXJEYXRhLmNhcmRDaGFyZ2VzLmxlbmd0aC0xXS5wYXltZW50TWV0aG9kSWQsIFtWYWxpZGF0b3JzLnJlcXVpcmVkXV0sXG4gICAgICAgICdzdG9yZWRDYXJkJyA6IFt2YWwsIFtWYWxpZGF0b3JzLnJlcXVpcmVkXV0sXG4gICAgICAgICdjYXJkTmFtZScgOiBbdGhpcy51c2VyRGF0YS5jdXN0b21lckRldGFpbHMuY3VzdG9tZXJOYW1lLCBbVmFsaWRhdG9ycy5yZXF1aXJlZF1dLFxuICAgICAgICAnYW1vdW50JyA6IFtdLFxuICAgICAgICAnY2FyZENoYXJnZScgOiBbdGhpcy51c2VyRGF0YS5jYXJkQ2hhcmdlc1t0aGlzLnVzZXJEYXRhLmNhcmRDaGFyZ2VzLmxlbmd0aC0xXS5jaGFyZ2UsIF0sXG4gICAgICAgICdpc1BvcnRhbCcgOiBbdHJ1ZV0sXG4gICAgICB9KTtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICB0aGlzLnBheUVtaXR0ZXIuZW1pdCh0aGlzLmNyZWRpdEZvcm0pO1xuICAgICAgfSwgMTAwKTtcbn1cblxuZGV0ZWN0Q2FyZFR5cGUobnVtYmVyOm51bWJlcikge1xuICB2YXIgcmUgOmFueSA9IHtcbiAgICAgIGVsZWN0cm9uOiAvXig0MDI2fDQxNzUwMHw0NDA1fDQ1MDh8NDg0NHw0OTEzfDQ5MTcpXFxkKyQvLFxuICAgICAgbWFlc3RybzogL14oNTAxOHw1MDIwfDUwMzh8NTYxMnw1ODkzfDYzMDR8Njc1OXw2NzYxfDY3NjJ8Njc2M3wwNjA0fDYzOTApXFxkKyQvLFxuICAgICAgZGFua29ydDogL14oNTAxOSlcXGQrJC8sXG4gICAgICBpbnRlcnBheW1lbnQ6IC9eKDYzNilcXGQrJC8sXG4gICAgICB1bmlvbnBheTogL14oNjJ8ODgpXFxkKyQvLFxuICAgICAgJ1Zpc2EnOiAvXjRbMC05XXsxMn0oPzpbMC05XXszfSk/JC8sXG4gICAgICAnTWFzdGVyQ2FyZCc6IC9eNVsxLTVdWzAtOV17MTR9JC8sXG4gICAgICAnQW1lcmljYW4gRXhwcmVzcyc6IC9eM1s0N11bMC05XXsxM30kLyxcbiAgICAgIGRpbmVyczogL14zKD86MFswLTVdfFs2OF1bMC05XSlbMC05XXsxMX0kLyxcbiAgICAgIGRpc2NvdmVyOiAvXjYoPzowMTF8NVswLTldezJ9KVswLTldezEyfSQvLFxuICAgICAgamNiOiAvXig/OjIxMzF8MTgwMHwzNVxcZHszfSlcXGR7MTF9JC9cbiAgfVxuXG4gIGZvcih2YXIga2V5IGluIHJlKSB7XG4gICAgICBpZihyZVtrZXldLnRlc3QobnVtYmVyKSkge1xuICAgICAgICByZXR1cm4ga2V5XG4gICAgICB9XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5cblxufVxuIiwiPGRpdiBjbGFzcz1cImNvbnRlbnQtZ3JvdXBcIiAqbmdJZj1cInN0b3JlZENhcmRzLmxlbmd0aCAhPSAwXCIgc3R5bGU9XCJtYXJnaW4tYm90dG9tOi0xNnB4XCI+XG4gICAgPHNlbGVjdCAoY2hhbmdlKT1cImRyb3Bkb3duKCRldmVudC50YXJnZXQpXCI+XG4gICAgICAgIDxvcHRpb24+VXNlIGV4aXN0aW5nIGNyZWRpdCBjYXJkPC9vcHRpb24+XG4gICAgICAgIDxvcHRpb24+U2V0IHVwIG5ldyBkZWJpdCBvciBjcmVkaXQgY2FyZDwvb3B0aW9uPlxuICAgIDwvc2VsZWN0PjxpIGNsYXNzPVwiZmEtc29saWQgZmEtYW5nbGUtZG93blwiPjwvaT5cbiAgICA8ZGl2IGNsYXNzPVwidmhcIj48L2Rpdj5cbjwvZGl2PlxuXG48ZGl2ICpuZ0lmPVwiY2FyZFwiPlxuICAgIDxkaXYgY2xhc3M9XCJjb250ZW50LWdyb3VwXCIgc3R5bGU9XCJtYXJnaW4tdG9wOjMycHg7bWFyZ2luLWJvdHRvbTogMDtcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImxhYmxlXCI+U2VsZWN0IGNhcmQ8L2Rpdj5cbiAgICAgICAgPHNlbGVjdCAoY2hhbmdlKT1cImNhcmRTZWxlY3RlZCgkZXZlbnQudGFyZ2V0LCdodG1sJylcIj5cbiAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJcIiBkaXNhYmxlZCBzZWxlY3RlZCBoaWRkZW4+UGxlYXNlIHNlbGVjdDwvb3B0aW9uPlxuICAgICAgICA8L3NlbGVjdD48aSBjbGFzcz1cImZhLXNvbGlkIGZhLWFuZ2xlLWRvd25cIj48L2k+XG4gICAgPC9kaXY+XG48L2Rpdj5cbjxkaXYgKm5nSWY9XCIhY2FyZFwiPlxuICAgIDxmb3JtIGNhcmQgY29udGFpbmVyPVwiLmNhcmQtY29udGFpbmVyXCI+XG4gICAgICAgIDxkaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJyb3dcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtbWQtNiBjcmVkaXQtY2FyZC1oaWRlXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNhcmQtY29udGFpbmVyXCI+XG5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1tZC02XCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbnRlbnQtZ3JvdXBcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiAqbmdJZj1cIiFjb21wYW55TmFtZVNlbGVjdGVkXCIgY2xhc3M9XCJsYWJsZVwiPkNhcmRob2xkZXLigJlzIG5hbWU8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiAqbmdJZj1cImNvbXBhbnlOYW1lU2VsZWN0ZWRcIiBjbGFzcz1cImxhYmxlXCI+Q29tcGFueSBuYW1lPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dCBjbGFzcz1cImZpZWxkXCIgdHlwZT1cInRleHRcIiBjYXJkLW5hbWUgKGtleXVwKT1cImtleXByZXNzKClcIiA+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgKm5nSWY9XCIhY29tcGFueU5hbWVTZWxlY3RlZFwiIGNsYXNzPVwiY29tcGFueS1uYW1lLWxpbmtcIiAoY2xpY2spPVwiY29tcGFueU5hbWVDbGljaygpXCI+T3IgY2xpY2sgaGVyZSB0byB1c2UgYSBjb21wYW55IG5hbWU8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiAqbmdJZj1cImNvbXBhbnlOYW1lU2VsZWN0ZWRcIiBjbGFzcz1cImNvbXBhbnktbmFtZS1saW5rXCIgKGNsaWNrKT1cImNvbXBhbnlOYW1lQ2xpY2soKVwiPk9yIGNsaWNrIGhlcmUgdG8gdXNlIHlvdXIgcGVyc29uYWwgaW5mb3JtYXRpb248L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cblxuXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbnRlbnQtZ3JvdXBcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImxhYmxlXCI+Q2FyZCBudW1iZXI8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGlucHV0IGNsYXNzPVwiZmllbGRcIiB0eXBlPVwidGVsXCIgYXV0b2NvbXBsZXRlPVwiY2MtbnVtYmVyXCIgY2FyZC1udW1iZXIgcGxhY2Vob2xkZXI9XCLigKLigKLigKLigKIg4oCi4oCi4oCi4oCiIOKAouKAouKAouKAoiDigKLigKLigKLigKJcIiAoa2V5dXApPVwic2V0Q2FyZFR5cGUoKVwiPlxuICAgICAgICAgICAgICAgICAgICA8aW1nICpuZ0lmPVwiY2FyZFR5cGVcIiBjbGFzcz1cImljb24tYWxpZ25cIiBzcmM9XCJcIiBhbHQ9XCJcIj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicm93IHJvdy1ncm91cFwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sIGNvbnRlbnQtZ3JvdXBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJsYWJsZVwiPkNWQzwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IGNsYXNzPVwiZmllbGRcIiB0eXBlPVwicGFzc3dvcmRcIiBhdXRvY29tcGxldGU9XCJuZXctcGFzc3dvcmRcIiBjYXJkLWN2YyBwbGFjZWhvbGRlcj1cIkNWQ1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKGtleXVwKT1cImtleXByZXNzKClcIj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wgY29udGVudC1ncm91cFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImxhYmxlXCI+RXhwIGRhdGU8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCBjbGFzcz1cImZpZWxkXCIgdHlwZT1cInRlbFwiIGF1dG9jb21wbGV0ZT1cImNjLWV4cFwiIGNhcmQtZXhwaXJ5IHBsYWNlaG9sZGVyPVwiTU0vWVlcIiAoa2V5dXApPVwia2V5cHJlc3MoKVwiPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICA8ZGl2IGNsYXNzPVwiY29udGVudC1ncm91cFwiIHN0eWxlPVwibWFyZ2luOiAwO1wiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwibGFibGVcIj5FbWFpbCBhZGRyZXNzPC9kaXY+XG4gICAgICAgIDxpbnB1dCBjbGFzcz1cImZpZWxkXCIgdHlwZT1cInRleHRcIiBwbGFjZWhvbGRlcj1cIkUuZy4gMTIzNDU2NzhcIiAoa2V5dXApPVwia2V5cHJlc3MoKVwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiZW1haWwtaW5mb1wiPlRoaXMgZW1haWwgd2lsbCBvbmx5IGJlIHVzZWQgdG8ga2VlcCB0aGUgY3VzdG9tZXIgdXBkYXRlZCBhYm91dCB0aGVpciBwYXltZW50czwvZGl2PlxuICAgIDwvZGl2PlxuPC9kaXY+XG48L2Zvcm0+XG48L2Rpdj4iXX0=