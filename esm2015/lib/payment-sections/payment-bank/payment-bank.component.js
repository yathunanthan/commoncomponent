import { Component, Input, Output, EventEmitter } from '@angular/core';
import { Validators } from '@angular/forms';
import * as i0 from "@angular/core";
import * as i1 from "@angular/forms";
// import { Injectable } from '@angular/core';
export class PaymentBankComponent {
    // @Injectable({providedIn: 'root'})
    // resp: any;
    // testObj:any;
    constructor(fb) {
        this.fb = fb;
        this.companyNameSelected = false;
        this.payEmitter = new EventEmitter();
    }
    ngOnInit() {
        if (this.paymentTypeS == 'PAD') {
            this.paymentType = 1;
        }
        else if (this.paymentTypeS == 'Bank transfer') {
            this.paymentType = 2;
        }
        else if (this.paymentTypeS == 'ACH') {
            this.paymentType = 3;
        }
        else if (this.paymentTypeS == 'SEPA') {
            this.paymentType = 4;
        }
        this.buildPaymetForm();
    }
    buildPaymetForm() {
        if (this.paymentType == 1) {
            this.paymentForm = this.fb.group({
                firstName: ['', [Validators.required]],
                lastName: ['', [Validators.required]],
                email: ['', [Validators.required, Validators.email]],
                country: ['', [Validators.required]],
                institutionNo: ['', [Validators.required]],
                transitNo: ['', [Validators.required]],
                accountNo: ['', [Validators.required,]],
            });
        }
        else if (this.paymentType == 2) {
            this.paymentForm = this.fb.group({
                instantpayment: this.fb.group({
                    country_code: 'GB',
                    currency: this.userData.currencyCode,
                    payment: this.fb.group({
                        description: "Invoice no : #" + this.userData.invoiceDetails.invoiceNumber,
                        amount: [0, [Validators.required]],
                        app_fee: "1",
                    }),
                    customer: this.fb.group({
                        commusoftId: 0,
                        addressline1: this.userData.customerDetails.addressline1,
                        addressline2: this.userData.customerDetails.addressline2,
                        addressline3: this.userData.customerDetails.addressline3,
                        companyname: "",
                        surname: this.userData.customerDetails.customerName,
                        firstname: this.userData.customerDetails.customerName,
                        postcode: this.userData.customerDetails.postcode,
                        phonenumber: "",
                        region: this.userData.customerDetails.county,
                        email: [this.userData.customerDetails.emailId, [Validators.required, Validators.email]],
                        language: ""
                    }),
                    bank: this.fb.group({
                        firstname: [this.userData.customerDetails.customerName, [Validators.required]],
                        lastname: [""],
                        account_number: ['', [Validators.required]],
                        iban: "",
                        account_type: "",
                        bank_code: "",
                        branch_code: ["", [Validators.required]],
                    })
                }),
            });
        }
        else if (this.paymentType == 3) {
            this.paymentForm = this.fb.group({
                firstName: ['', [Validators.required]],
                lastName: ['', [Validators.required]],
                email: ['', [Validators.required, Validators.email]],
                billingAddress1: ['', [Validators.required]],
                billingAddress2: ['', [Validators.required]],
                accountNo: ['', [Validators.required,]],
                routingNo: ['', [Validators.required]],
                accountType: ['', [Validators.required]],
                // confirm: [false, [Validators.requiredTrue] ],
            });
        }
        else if (this.paymentType == 4) {
            this.paymentForm = this.fb.group({
                firstName: ['', [Validators.required]],
                lastName: ['', [Validators.required]],
                email: ['', [Validators.required, Validators.email]],
                creditorIdentifier: ['', [Validators.required]],
                internationalBankAccountNo: ['', [Validators.required]],
                accountNo: ['', [Validators.required,]],
                billingAddress1: ['', [Validators.required]],
                billingAddress2: ['', [Validators.required]],
            });
        }
    }
    companyNameClick() {
        this.companyNameSelected = !this.companyNameSelected;
        this.paymentForm.patchValue({ 'instantpayment': { 'bank': { 'firstname': '' } } });
    }
    keypress() {
        this.payEmitter.emit(this.paymentForm);
    }
    branch_codeFormat(el) {
        this.paymentForm.patchValue({ 'instantpayment': { 'bank': { 'branch_code': el.target.value.replace(/[^0-9]/g, '').replace(/(\d{2})(?=\d)/g, "$1-") } } });
        this.keypress();
    }
}
PaymentBankComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "12.2.17", ngImport: i0, type: PaymentBankComponent, deps: [{ token: i1.FormBuilder }], target: i0.ɵɵFactoryTarget.Component });
PaymentBankComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "12.2.17", type: PaymentBankComponent, selector: "app-payment-bank", inputs: { paymentTypeS: "paymentTypeS" }, outputs: { payEmitter: "payEmitter" }, ngImport: i0, template: "<form>\n    <div>\n        \n<div class=\"content-group\">\n    <div *ngIf=\"paymentType!=2  && !companyNameSelected\" class=\"row\">\n        <div class=\"col-md-6\">\n            <div class=\"lable\">First name</div>\n            <input class=\"field\" type=\"text\" (keyup)=\"keypress()\" >\n        </div>\n        <div class=\"col-md-6\">\n            <div class=\"lable\">Last name</div>\n            <input class=\"field\" type=\"text\" (keyup)=\"keypress()\" >\n        </div>\n    </div>\n    <div *ngIf=\"paymentType==2\" class=\"direct-debit\">\n        <div>\n            <div class=\"form-group\">\n        <div class=\"lable\">Account holder\u2019s name</div>\n            <input formControlName=\"firstname\" class=\"field\" type=\"text\" (keyup)=\"keypress()\" >\n            </div></div>\n    </div>\n    <div class=\"direct-debit\">\n        <div>\n            <div class=\"form-group\">\n        <div class=\"lable\">Company name</div>\n            <input class=\"field\" type=\"text\" (keyup)=\"keypress()\" >\n        </div></div>\n    </div>\n    <div *ngIf=\"!companyNameSelected\" class=\"company-name-link\" (click)=\"companyNameClick()\">Or click here to use a company name</div>\n    <div *ngIf= \"companyNameSelected\" class=\"company-name-link\" (click)=\"companyNameClick()\">Or click here to use your personal information</div>\n</div>\n<div class=\"content-group\">\n    <div>\n        <div class=\"form-group\">\n            <div class=\"lable\">Email address</div>\n    <input class=\"field\" type=\"text\" placeholder=\"william.ty@example.co\" (keyup)=\"keypress()\" >\n    <div class=\"email-info\">This email will only be used to keep you updated about their payments</div>\n\n        </div>\n    </div>\n    \n</div>\n<div *ngIf=\"paymentType==1\" class=\"content-group\">\n    <div class=\"lable\">vdsf</div>\n    <select (click)=\"keypress()\">\n        <option value=\"\" disabled selected hidden>Please select</option>\n        <!-- <option *ngFor=\"let name of countryName\" [value]=\"name\" >{{name}}</option> -->\n    </select><i class=\"fa-solid fa-angle-down\"></i>\n</div>\n<div class=\"content-group\">\n    <div *ngIf=\"paymentType==1\" class=\"row\">\n        <div class=\"col-md-6\">\n            <div class=\"lable\">Institution number</div>\n            <input class=\"field\" type=\"text\" placeholder=\"E.g. 10-20-30\" (keyup)=\"keypress()\" >\n        </div>\n        <div class=\"col-md-6\">\n            <div class=\"lable transit-adjust\">Transit number</div>\n            <input class=\"field\" type=\"text\" placeholder=\"E.g. 12345678\" (keyup)=\"keypress()\" >\n        </div>\n    </div>\n    <div *ngIf=\"paymentType==2\" class=\"row\">\n        <div class=\"col-md-4\">\n                <div>\n                    <div class=\"form-group\">\n\n            <div class=\"lable\">Sort code</div>\n            <input class=\"field\" type=\"text\" placeholder=\"E.g. 10-20-30\" (input)=\"branch_codeFormat($event)\" maxlength=\"8\" >\n                    </div></div>\n        </div>\n        <div class=\"col-md-8\">\n            <div>\n                <div class=\"form-group\">\n\n\n            <div class=\"lable transit-adjust\">Account number</div>\n            <input class=\"field\" type=\"text\" placeholder=\"E.g. 12345678\" (keyup)=\"keypress()\" >\n        </div></div>\n        </div>\n    </div>\n</div>\n<div *ngIf=\"paymentType==1\" class=\"content-group\">\n    <div class=\"lable\">Account number</div>\n    <input class=\"field\" type=\"text\" placeholder=\"E.g. 12345678\" (keyup)=\"keypress()\" >\n</div>\n\n<div *ngIf=\"paymentType==4\" class=\"content-group\">\n    <div class=\"lable\">Creditor identifier</div>\n    <input class=\"field\" type=\"text\" placeholder=\"Creditor identifier\" (keyup)=\"keypress()\" >\n</div>\n\n<div *ngIf=\"paymentType==4\" class=\"content-group\">\n    <div class=\"lable\">International bank account number (IBAN)</div>\n    <input class=\"field\" type=\"text\" placeholder=\"International bank account number (IBAN)\" (keyup)=\"keypress()\" >\n</div>\n\n<div *ngIf=\"paymentType==3 || paymentType==4\" class=\"content-group\">\n    <div class=\"lable\">Billing address</div>\n    <input class=\"field\" type=\"text\" placeholder=\"Address Line 1\" >\n    <input class=\"field\" type=\"text\" placeholder=\"Address Line 2\" style=\"margin-top:12px\" >\n\n</div>\n<div *ngIf=\"paymentType==3 || paymentType==4\" class=\"content-group\">\n    <div class=\"lable\">Bank account number</div>\n    <input class=\"field\" type=\"text\" placeholder=\"Bank account number\" (keyup)=\"keypress()\">\n</div>\n<div *ngIf=\"paymentType==3\" class=\"content-group\">\n    <div class=\"row\">\n        <div class=\"col-md-6\">\n            <div class=\"lable\">Routing number</div>\n            <input class=\"field\" type=\"text\" placeholder=\"Routing number\" (keyup)=\"keypress()\">\n        </div>\n        <div class=\"col-md-6\">\n            <div class=\"lable transit-adjust\">Account type</div>\n            <select (click)=\"keypress()\">\n                <option value=\"\" disabled selected hidden>Please select</option>\n                <option>xxxx - xxxx - xxxx - 1234</option>\n                <option>Use existing credit card</option>\n            </select><i class=\"fa-solid fa-angle-down\"></i>\n        </div>\n    </div>\n</div>\n\n<div class=\"content-group\" style=\"margin-bottom: 0;\">\n    <div *ngIf=\"paymentType==1\">\n    <div class=\"confirm\">\n        <span style=\"margin-top: 5px;\">I confirm that I am the account holder and am authorised to set up PAD payments on this account</span>\n    </div>\n    </div>\n    \n    <div *ngIf=\"paymentType==2\">\n        <div class=\"confirm\">\n            <span>We work with a company called GoCardless. They help us process your payment, which involves some of your personal data. By continuing, you agree to their terms of use and understand their <a href=\"https://gocardless.com/privacy/payers/\"  target=\"_blank\"> privacy notice.</a></span></div>\n        </div>\n    <div *ngIf=\"paymentType==3\">\n        <div class=\"confirm-msg\">\n            This service is provided by Community Federal Savings Bank (\u201CCFSB\u201D), member FDIC, forwhich GoCardless Ltd acts as a third-party servicer. GoCardless and CFSB use personal data as described in <a>these privacy notices</a>. By submitting this form, you agree to the GoCardless <a>Website Terms of Use</a>. GoCardless uses analytics <a>cookies</a>.\n        </div></div>\n    \n        <div *ngIf=\"paymentType==4\">\n            <div class=\"confirm-msg\">\n                By signing this mandate form, you authorise (A) GoCardless to send instructions to your bank to debit your account (B) your bank to debit your account in accordance with the instructions from GoCardless. As part of your rights, you are entitled to refund from your bank under the terms and conditions of your agreement with your bank. A refund must be claimed within 8 weeks starting from the date on which your account was debited.\n            </div></div>\n        </div>\n        </div>\n    </form>", styles: ["a{color:var(--circleFontColour)!important;cursor:pointer;text-decoration:none}.lable{font-size:14px;color:var(--primaryTextColor);padding-bottom:8px}.field{width:100%;border:1px solid var(--primaryBorderColor);border-radius:4px;height:40px;padding:0 5px;color:var(--primaryTextColor);font-family:\"Helvetica\";font-style:normal;font-weight:400;font-size:14px;line-height:24px}.field:focus-visible{outline:1px solid var(--inputHighlight)}.company-name-link{padding-top:8px;color:var(--tertiaryButtonFontColour);cursor:pointer;font-family:\"Helvetica\";font-style:normal;font-weight:400;font-size:14px;line-height:20px;max-width:-moz-fit-content;max-width:fit-content}.email-info{color:var(--positiveFoundation);margin-top:8px;font-family:\"Helvetica\";font-style:normal;font-weight:400;font-size:14px;line-height:20px}.content-group{margin:16px 0;font-size:14px}.content-group select:invalid{color:gray}.content-group select{appearance:none;background-color:#fff;border:1px solid var(--primaryBorderColor);border-radius:4px;padding:0 5px;color:var(--primaryTextColor)}.content-group select:focus-visible{outline:1px solid var(--inputHighlight)}.content-group .fa-angle-down{position:absolute;margin-left:-30px;margin-top:13px;color:var(--primaryTextColor)}.content-group ::placeholder{color:#c9c9c9;opacity:1}.content-group :-ms-input-placeholder{color:#c9c9c9}.content-group ::-ms-input-placeholder{color:#c9c9c9}select{width:100%;height:40px}#confirm{min-width:24px;height:24px;margin-right:12px;cursor:pointer}.confirm{font-size:14px;color:var(--primaryTextColor);display:flex;margin-top:16px;align-items:center}.confirm input[type=checkbox]{outline:1px solid #EEEEEE}.form-check-input:focus{border-color:#c9c9c9!important;outline:0;box-shadow:0 0 0 .25rem #0d6efd00}.form-check-input:checked{background-color:#3883c1;border-color:#3883c1!important}.addons-checkbox{width:24px;height:24px;margin-bottom:5px;border-color:#c9c9c9!important;outline:0;border-style:solid;border-width:1px}.confirm-msg{font-size:14px;color:var(--primaryTextColor)}.confirm-msg a{color:var(--linkColor)!important}.confirm-msg a:hover{color:var(--linkVisitedColor)!important}.invalid-input{margin-top:5px;color:#b94a48}@media (max-width: 768px){.transit-adjust{margin-top:8px}.confirm{align-items:baseline}.content-group{margin:12px 0}}\n"] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "12.2.17", ngImport: i0, type: PaymentBankComponent, decorators: [{
            type: Component,
            args: [{
                    selector: 'app-payment-bank',
                    templateUrl: './payment-bank.component.html',
                    styleUrls: ['./payment-bank.component.scss']
                }]
        }], ctorParameters: function () { return [{ type: i1.FormBuilder }]; }, propDecorators: { paymentTypeS: [{
                type: Input
            }], payEmitter: [{
                type: Output
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGF5bWVudC1iYW5rLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL3BhcmVudHBheW1lbnQvc3JjL2xpYi9wYXltZW50LXNlY3Rpb25zL3BheW1lbnQtYmFuay9wYXltZW50LWJhbmsuY29tcG9uZW50LnRzIiwiLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvcGFyZW50cGF5bWVudC9zcmMvbGliL3BheW1lbnQtc2VjdGlvbnMvcGF5bWVudC1iYW5rL3BheW1lbnQtYmFuay5jb21wb25lbnQuaHRtbCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsU0FBUyxFQUFTLEtBQUssRUFBRSxNQUFNLEVBQUUsWUFBWSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQzlFLE9BQU8sRUFBMEIsVUFBVSxFQUFlLE1BQU0sZ0JBQWdCLENBQUM7OztBQUVqRiw4Q0FBOEM7QUFPOUMsTUFBTSxPQUFPLG9CQUFvQjtJQVcvQixvQ0FBb0M7SUFDcEMsYUFBYTtJQUNiLGVBQWU7SUFFZixZQUNVLEVBQWU7UUFBZixPQUFFLEdBQUYsRUFBRSxDQUFhO1FBVnpCLHdCQUFtQixHQUFTLEtBQUssQ0FBQztRQUd4QixlQUFVLEdBQXFCLElBQUksWUFBWSxFQUFPLENBQUM7SUFRN0QsQ0FBQztJQUVMLFFBQVE7UUFFTixJQUFHLElBQUksQ0FBQyxZQUFZLElBQUUsS0FBSyxFQUFDO1lBQzFCLElBQUksQ0FBQyxXQUFXLEdBQUMsQ0FBQyxDQUFDO1NBQ3BCO2FBQ0ksSUFBRyxJQUFJLENBQUMsWUFBWSxJQUFFLGVBQWUsRUFBQztZQUN6QyxJQUFJLENBQUMsV0FBVyxHQUFDLENBQUMsQ0FBQztTQUNwQjthQUNJLElBQUcsSUFBSSxDQUFDLFlBQVksSUFBRSxLQUFLLEVBQUM7WUFDL0IsSUFBSSxDQUFDLFdBQVcsR0FBQyxDQUFDLENBQUM7U0FDcEI7YUFDSSxJQUFHLElBQUksQ0FBQyxZQUFZLElB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O1FBQ04sSUFBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDO0lBQ3pDLENBQUM7SUFDRCxpQkFBaUIsQ0FBQyxFQUFNO1FBQ3RCLElBQUksQ0FBQyxXQUFXLENBQUMsVUFBVSxDQUFDLEVBQUMsZ0JBQWdCLEVBQUMsRUFBQyxNQUFNLEVBQUMsRUFBQyxhQUFhLEVBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLFNBQVMsRUFBRSxFQUFFLENBQUMsQ0FBQyxPQUFPLENBQUMsZ0JBQWdCLEVBQUUsS0FBSyxDQUFDLEVBQUMsRUFBQyxFQUFDLENBQUMsQ0FBQztRQUNqSixJQUFJLENBQUMsUUFBUSxFQUFFLENBQUE7SUFDakIsQ0FBQzs7a0hBL0hVLG9CQUFvQjtzR0FBcEIsb0JBQW9CLHlJQ1ZqQyx3OU5BZ0pXOzRGRHRJRSxvQkFBb0I7a0JBTGhDLFNBQVM7bUJBQUM7b0JBQ1QsUUFBUSxFQUFFLGtCQUFrQjtvQkFDNUIsV0FBVyxFQUFFLCtCQUErQjtvQkFDNUMsU0FBUyxFQUFFLENBQUMsK0JBQStCLENBQUM7aUJBQzdDO2tHQVNVLFlBQVk7c0JBQXBCLEtBQUs7Z0JBQ0ksVUFBVTtzQkFBbkIsTUFBTSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbXBvbmVudCwgT25Jbml0LElucHV0ICxPdXRwdXQsIEV2ZW50RW1pdHRlciB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgRm9ybUdyb3VwLCBGb3JtQ29udHJvbCwgVmFsaWRhdG9ycywgRm9ybUJ1aWxkZXIgfSBmcm9tICdAYW5ndWxhci9mb3Jtcyc7XG5pbXBvcnQgeyBUSElTX0VYUFIgfSBmcm9tICdAYW5ndWxhci9jb21waWxlci9zcmMvb3V0cHV0L291dHB1dF9hc3QnO1xuLy8gaW1wb3J0IHsgSW5qZWN0YWJsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdhcHAtcGF5bWVudC1iYW5rJyxcbiAgdGVtcGxhdGVVcmw6ICcuL3BheW1lbnQtYmFuay5jb21wb25lbnQuaHRtbCcsXG4gIHN0eWxlVXJsczogWycuL3BheW1lbnQtYmFuay5jb21wb25lbnQuc2NzcyddXG59KVxuZXhwb3J0IGNsYXNzIFBheW1lbnRCYW5rQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0IHtcbiAgY291bnRyeU5hbWU6IGFueTtcbiAgcGF5bWVudFR5cGU6IGFueTtcbiAgcGF5bWVudEZvcm0hOiBGb3JtR3JvdXA7XG4gIHBheW1lbnRGb3JtMSE6IEZvcm1Hcm91cDtcbiAgdGVzdEZvcm0hOkZvcm1Hcm91cDtcbiAgY29tcGFueU5hbWVTZWxlY3RlZDpib29sZWFuPWZhbHNlO1xuXG4gIEBJbnB1dCgpIHBheW1lbnRUeXBlUzphbnk7XG4gIEBPdXRwdXQoKSBwYXlFbWl0dGVyOkV2ZW50RW1pdHRlcjxhbnk+ID0gbmV3IEV2ZW50RW1pdHRlcjxhbnk+KCk7XG4gIHVzZXJEYXRhOiBhbnk7XG4gIC8vIEBJbmplY3RhYmxlKHtwcm92aWRlZEluOiAncm9vdCd9KVxuICAvLyByZXNwOiBhbnk7XG4gIC8vIHRlc3RPYmo6YW55O1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHByaXZhdGUgZmI6IEZvcm1CdWlsZGVyLFxuICApIHsgfVxuXG4gIG5nT25Jbml0KCk6IHZvaWQge1xuXG4gICAgaWYodGhpcy5wYXltZW50VHlwZVM9PSdQQUQnKXtcbiAgICAgIHRoaXMucGF5bWVudFR5cGU9MTtcbiAgICB9XG4gICAgZWxzZSBpZih0aGlzLnBheW1lbnRUeXBlUz09J0JhbmsgdHJhbnNmZXInKXtcbiAgICAgIHRoaXMucGF5bWVudFR5cGU9MjtcbiAgICB9XG4gICAgZWxzZSBpZih0aGlzLnBheW1lbnRUeXBlUz09J0FDSCcpe1xuICAgICAgdGhpcy5wYXltZW50VHlwZT0zO1xuICAgIH1cbiAgICBlbHNlIGlmKHRoaXMucGF5bWVudFR5cGVTPT0nU0VQQScpe1xuICAgICAgdGhpcy5wYXltZW50VHlwZT00O1xuICAgIH1cbiAgICB0aGlzLmJ1aWxkUGF5bWV0Rm9ybSgpO1xuICB9XG5cblxuICBidWlsZFBheW1ldEZvcm0oKSB7XG4gICAgaWYoIHRoaXMucGF5bWVudFR5cGU9PTEpe1xuICAgICAgdGhpcy5wYXltZW50Rm9ybSA9IHRoaXMuZmIuZ3JvdXAoe1xuICAgICAgICBmaXJzdE5hbWU6IFsnJyxbVmFsaWRhdG9ycy5yZXF1aXJlZF0gXSxcbiAgICAgICAgbGFzdE5hbWU6IFsnJywgW1ZhbGlkYXRvcnMucmVxdWlyZWRdXSxcbiAgICAgICAgZW1haWw6IFsnJywgW1ZhbGlkYXRvcnMucmVxdWlyZWQsVmFsaWRhdG9ycy5lbWFpbF0gXSxcbiAgICAgICAgY291bnRyeTogWycnLCBbVmFsaWRhdG9ycy5yZXF1aXJlZF1dLFxuICAgICAgICBpbnN0aXR1dGlvbk5vOiBbJycsIFtWYWxpZGF0b3JzLnJlcXVpcmVkXV0sXG4gICAgICAgIHRyYW5zaXRObzogWycnLCBbVmFsaWRhdG9ycy5yZXF1aXJlZF1dLFxuICAgICAgICBhY2NvdW50Tm86IFsnJywgW1ZhbGlkYXRvcnMucmVxdWlyZWQsXSBdLFxuICAgICAgfSk7XG5cbiAgICB9XG4gICAgZWxzZSBpZiggdGhpcy5wYXltZW50VHlwZT09Mil7XG4gICAgICB0aGlzLnBheW1lbnRGb3JtID0gdGhpcy5mYi5ncm91cCh7XG4gICAgICBpbnN0YW50cGF5bWVudDogdGhpcy5mYi5ncm91cCh7XG4gICAgICAgICAgY291bnRyeV9jb2RlOidHQicsXG4gICAgICAgICAgY3VycmVuY3k6dGhpcy51c2VyRGF0YS5jdXJyZW5jeUNvZGUsXG4gICAgICAgICAgcGF5bWVudDp0aGlzLmZiLmdyb3VwKHtcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOlwiSW52b2ljZSBubyA6ICNcIit0aGlzLnVzZXJEYXRhLmludm9pY2VEZXRhaWxzLmludm9pY2VOdW1iZXIsXG4gICAgICAgICAgICBhbW91bnQ6WzAsIFtWYWxpZGF0b3JzLnJlcXVpcmVkXV0sXG4gICAgICAgICAgICBhcHBfZmVlOlwiMVwiLFxuXG4gICAgICAgICAgfSksXG4gICAgICAgICAgY3VzdG9tZXI6dGhpcy5mYi5ncm91cCh7XG4gICAgICAgICAgICBjb21tdXNvZnRJZDowLFxuICAgICAgICAgICAgYWRkcmVzc2xpbmUxOiB0aGlzLnVzZXJEYXRhLmN1c3RvbWVyRGV0YWlscy5hZGRyZXNzbGluZTEsXG4gICAgICAgICAgICBhZGRyZXNzbGluZTI6IHRoaXMudXNlckRhdGEuY3VzdG9tZXJEZXRhaWxzLmFkZHJlc3NsaW5lMixcbiAgICAgICAgICAgIGFkZHJlc3NsaW5lMzogdGhpcy51c2VyRGF0YS5jdXN0b21lckRldGFpbHMuYWRkcmVzc2xpbmUzLFxuICAgICAgICAgICAgY29tcGFueW5hbWU6XCJcIixcbiAgICAgICAgICAgIHN1cm5hbWU6IHRoaXMudXNlckRhdGEuY3VzdG9tZXJEZXRhaWxzLmN1c3RvbWVyTmFtZSxcbiAgICAgICAgICAgIGZpcnN0bmFtZTogdGhpcy51c2VyRGF0YS5jdXN0b21lckRldGFpbHMuY3VzdG9tZXJOYW1lLFxuICAgICAgICAgICAgcG9zdGNvZGU6dGhpcy51c2VyRGF0YS5jdXN0b21lckRldGFpbHMucG9zdGNvZGUsXG4gICAgICAgICAgICBwaG9uZW51bWJlcjpcIlwiLFxuICAgICAgICAgICAgcmVnaW9uOnRoaXMudXNlckRhdGEuY3VzdG9tZXJEZXRhaWxzLmNvdW50eSxcbiAgICAgICAgICAgIGVtYWlsOiBbdGhpcy51c2VyRGF0YS5jdXN0b21lckRldGFpbHMuZW1haWxJZCxbVmFsaWRhdG9ycy5yZXF1aXJlZCwgVmFsaWRhdG9ycy5lbWFpbF1dLFxuICAgICAgICAgICAgbGFuZ3VhZ2U6XCJcIlxuICAgICAgICAgIH0pLFxuICAgICAgICAgIGJhbms6dGhpcy5mYi5ncm91cCh7XG4gICAgICAgICAgICBmaXJzdG5hbWU6W3RoaXMudXNlckRhdGEuY3VzdG9tZXJEZXRhaWxzLmN1c3RvbWVyTmFtZSwgW1ZhbGlkYXRvcnMucmVxdWlyZWRdXSxcbiAgICAgICAgICAgIGxhc3RuYW1lOltcIlwiXSxcbiAgICAgICAgICAgIGFjY291bnRfbnVtYmVyOlsnJywgW1ZhbGlkYXRvcnMucmVxdWlyZWRdXSxcbiAgICAgICAgICAgIGliYW46XCJcIixcbiAgICAgICAgICAgIGFjY291bnRfdHlwZTpcIlwiLFxuICAgICAgICAgICAgYmFua19jb2RlOlwiXCIsXG4gICAgICAgICAgICBicmFuY2hfY29kZTpbXCJcIiwgW1ZhbGlkYXRvcnMucmVxdWlyZWRdXSxcblxuICAgICAgICAgIH0pXG5cbiAgICAgICAgfSksXG4gICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSBpZiggdGhpcy5wYXltZW50VHlwZT09Myl7XG4gICAgICB0aGlzLnBheW1lbnRGb3JtID0gdGhpcy5mYi5ncm91cCh7XG4gICAgICAgIGZpcnN0TmFtZTogWycnLFtWYWxpZGF0b3JzLnJlcXVpcmVkXSBdLFxuICAgICAgICBsYXN0TmFtZTogWycnLCBbVmFsaWRhdG9ycy5yZXF1aXJlZF1dLFxuICAgICAgICBlbWFpbDogWycnLCBbVmFsaWRhdG9ycy5yZXF1aXJlZCxWYWxpZGF0b3JzLmVtYWlsXSBdLFxuICAgICAgICBiaWxsaW5nQWRkcmVzczE6IFsnJywgW1ZhbGlkYXRvcnMucmVxdWlyZWRdXSxcbiAgICAgICAgYmlsbGluZ0FkZHJlc3MyOiBbJycsIFtWYWxpZGF0b3JzLnJlcXVpcmVkXV0sXG4gICAgICAgIGFjY291bnRObzogWycnLCBbVmFsaWRhdG9ycy5yZXF1aXJlZCxdIF0sXG4gICAgICAgIHJvdXRpbmdObzogWycnLCBbVmFsaWRhdG9ycy5yZXF1aXJlZF1dLFxuICAgICAgICBhY2NvdW50VHlwZTogWycnLCBbVmFsaWRhdG9ycy5yZXF1aXJlZF1dLFxuICAgICAgICAvLyBjb25maXJtOiBbZmFsc2UsIFtWYWxpZGF0b3JzLnJlcXVpcmVkVHJ1ZV0gXSxcbiAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIGlmKCB0aGlzLnBheW1lbnRUeXBlPT00KXtcbiAgICAgIHRoaXMucGF5bWVudEZvcm0gPSB0aGlzLmZiLmdyb3VwKHtcbiAgICAgICAgZmlyc3ROYW1lOiBbJycsW1ZhbGlkYXRvcnMucmVxdWlyZWRdIF0sXG4gICAgICAgIGxhc3ROYW1lOiBbJycsIFtWYWxpZGF0b3JzLnJlcXVpcmVkXV0sXG4gICAgICAgIGVtYWlsOiBbJycsIFtWYWxpZGF0b3JzLnJlcXVpcmVkLFZhbGlkYXRvcnMuZW1haWxdIF0sXG4gICAgICAgIGNyZWRpdG9ySWRlbnRpZmllcjogWycnLCBbVmFsaWRhdG9ycy5yZXF1aXJlZF1dLFxuICAgICAgICBpbnRlcm5hdGlvbmFsQmFua0FjY291bnRObzogWycnLCBbVmFsaWRhdG9ycy5yZXF1aXJlZF1dLFxuICAgICAgICBhY2NvdW50Tm86IFsnJywgW1ZhbGlkYXRvcnMucmVxdWlyZWQsXSBdLFxuICAgICAgICBiaWxsaW5nQWRkcmVzczE6IFsnJywgW1ZhbGlkYXRvcnMucmVxdWlyZWRdXSxcbiAgICAgICAgYmlsbGluZ0FkZHJlc3MyOiBbJycsIFtWYWxpZGF0b3JzLnJlcXVpcmVkXV0sXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBjb21wYW55TmFtZUNsaWNrKCl7XG4gICAgdGhpcy5jb21wYW55TmFtZVNlbGVjdGVkPSF0aGlzLmNvbXBhbnlOYW1lU2VsZWN0ZWQ7XG4gICAgdGhpcy5wYXltZW50Rm9ybS5wYXRjaFZhbHVlKHsnaW5zdGFudHBheW1lbnQnOnsnYmFuayc6eydmaXJzdG5hbWUnOicnfX19KTtcbiAgfVxuICBcbiAga2V5cHJlc3MoKXsgXG4gICAgdGhpcy5wYXlFbWl0dGVyLmVtaXQodGhpcy5wYXltZW50Rm9ybSk7XG4gIH1cbiAgYnJhbmNoX2NvZGVGb3JtYXQoZWw6YW55KXtcbiAgICB0aGlzLnBheW1lbnRGb3JtLnBhdGNoVmFsdWUoeydpbnN0YW50cGF5bWVudCc6eydiYW5rJzp7J2JyYW5jaF9jb2RlJzplbC50YXJnZXQudmFsdWUucmVwbGFjZSgvW14wLTldL2csICcnKS5yZXBsYWNlKC8oXFxkezJ9KSg/PVxcZCkvZywgXCIkMS1cIil9fX0pO1xuICAgIHRoaXMua2V5cHJlc3MoKVxuICB9XG59IiwiPGZvcm0+XG4gICAgPGRpdj5cbiAgICAgICAgXG48ZGl2IGNsYXNzPVwiY29udGVudC1ncm91cFwiPlxuICAgIDxkaXYgKm5nSWY9XCJwYXltZW50VHlwZSE9MiAgJiYgIWNvbXBhbnlOYW1lU2VsZWN0ZWRcIiBjbGFzcz1cInJvd1wiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLW1kLTZcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJsYWJsZVwiPkZpcnN0IG5hbWU8L2Rpdj5cbiAgICAgICAgICAgIDxpbnB1dCBjbGFzcz1cImZpZWxkXCIgdHlwZT1cInRleHRcIiAoa2V5dXApPVwia2V5cHJlc3MoKVwiID5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtbWQtNlwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImxhYmxlXCI+TGFzdCBuYW1lPC9kaXY+XG4gICAgICAgICAgICA8aW5wdXQgY2xhc3M9XCJmaWVsZFwiIHR5cGU9XCJ0ZXh0XCIgKGtleXVwKT1cImtleXByZXNzKClcIiA+XG4gICAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICAgIDxkaXYgKm5nSWY9XCJwYXltZW50VHlwZT09MlwiIGNsYXNzPVwiZGlyZWN0LWRlYml0XCI+XG4gICAgICAgIDxkaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwibGFibGVcIj5BY2NvdW50IGhvbGRlcuKAmXMgbmFtZTwvZGl2PlxuICAgICAgICAgICAgPGlucHV0IGZvcm1Db250cm9sTmFtZT1cImZpcnN0bmFtZVwiIGNsYXNzPVwiZmllbGRcIiB0eXBlPVwidGV4dFwiIChrZXl1cCk9XCJrZXlwcmVzcygpXCIgPlxuICAgICAgICAgICAgPC9kaXY+PC9kaXY+XG4gICAgPC9kaXY+XG4gICAgPGRpdiBjbGFzcz1cImRpcmVjdC1kZWJpdFwiPlxuICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImxhYmxlXCI+Q29tcGFueSBuYW1lPC9kaXY+XG4gICAgICAgICAgICA8aW5wdXQgY2xhc3M9XCJmaWVsZFwiIHR5cGU9XCJ0ZXh0XCIgKGtleXVwKT1cImtleXByZXNzKClcIiA+XG4gICAgICAgIDwvZGl2PjwvZGl2PlxuICAgIDwvZGl2PlxuICAgIDxkaXYgKm5nSWY9XCIhY29tcGFueU5hbWVTZWxlY3RlZFwiIGNsYXNzPVwiY29tcGFueS1uYW1lLWxpbmtcIiAoY2xpY2spPVwiY29tcGFueU5hbWVDbGljaygpXCI+T3IgY2xpY2sgaGVyZSB0byB1c2UgYSBjb21wYW55IG5hbWU8L2Rpdj5cbiAgICA8ZGl2ICpuZ0lmPSBcImNvbXBhbnlOYW1lU2VsZWN0ZWRcIiBjbGFzcz1cImNvbXBhbnktbmFtZS1saW5rXCIgKGNsaWNrKT1cImNvbXBhbnlOYW1lQ2xpY2soKVwiPk9yIGNsaWNrIGhlcmUgdG8gdXNlIHlvdXIgcGVyc29uYWwgaW5mb3JtYXRpb248L2Rpdj5cbjwvZGl2PlxuPGRpdiBjbGFzcz1cImNvbnRlbnQtZ3JvdXBcIj5cbiAgICA8ZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImxhYmxlXCI+RW1haWwgYWRkcmVzczwvZGl2PlxuICAgIDxpbnB1dCBjbGFzcz1cImZpZWxkXCIgdHlwZT1cInRleHRcIiBwbGFjZWhvbGRlcj1cIndpbGxpYW0udHlAZXhhbXBsZS5jb1wiIChrZXl1cCk9XCJrZXlwcmVzcygpXCIgPlxuICAgIDxkaXYgY2xhc3M9XCJlbWFpbC1pbmZvXCI+VGhpcyBlbWFpbCB3aWxsIG9ubHkgYmUgdXNlZCB0byBrZWVwIHlvdSB1cGRhdGVkIGFib3V0IHRoZWlyIHBheW1lbnRzPC9kaXY+XG5cbiAgICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICAgXG48L2Rpdj5cbjxkaXYgKm5nSWY9XCJwYXltZW50VHlwZT09MVwiIGNsYXNzPVwiY29udGVudC1ncm91cFwiPlxuICAgIDxkaXYgY2xhc3M9XCJsYWJsZVwiPnZkc2Y8L2Rpdj5cbiAgICA8c2VsZWN0IChjbGljayk9XCJrZXlwcmVzcygpXCI+XG4gICAgICAgIDxvcHRpb24gdmFsdWU9XCJcIiBkaXNhYmxlZCBzZWxlY3RlZCBoaWRkZW4+UGxlYXNlIHNlbGVjdDwvb3B0aW9uPlxuICAgICAgICA8IS0tIDxvcHRpb24gKm5nRm9yPVwibGV0IG5hbWUgb2YgY291bnRyeU5hbWVcIiBbdmFsdWVdPVwibmFtZVwiID57e25hbWV9fTwvb3B0aW9uPiAtLT5cbiAgICA8L3NlbGVjdD48aSBjbGFzcz1cImZhLXNvbGlkIGZhLWFuZ2xlLWRvd25cIj48L2k+XG48L2Rpdj5cbjxkaXYgY2xhc3M9XCJjb250ZW50LWdyb3VwXCI+XG4gICAgPGRpdiAqbmdJZj1cInBheW1lbnRUeXBlPT0xXCIgY2xhc3M9XCJyb3dcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1tZC02XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwibGFibGVcIj5JbnN0aXR1dGlvbiBudW1iZXI8L2Rpdj5cbiAgICAgICAgICAgIDxpbnB1dCBjbGFzcz1cImZpZWxkXCIgdHlwZT1cInRleHRcIiBwbGFjZWhvbGRlcj1cIkUuZy4gMTAtMjAtMzBcIiAoa2V5dXApPVwia2V5cHJlc3MoKVwiID5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtbWQtNlwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImxhYmxlIHRyYW5zaXQtYWRqdXN0XCI+VHJhbnNpdCBudW1iZXI8L2Rpdj5cbiAgICAgICAgICAgIDxpbnB1dCBjbGFzcz1cImZpZWxkXCIgdHlwZT1cInRleHRcIiBwbGFjZWhvbGRlcj1cIkUuZy4gMTIzNDU2NzhcIiAoa2V5dXApPVwia2V5cHJlc3MoKVwiID5cbiAgICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICAgPGRpdiAqbmdJZj1cInBheW1lbnRUeXBlPT0yXCIgY2xhc3M9XCJyb3dcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1tZC00XCI+XG4gICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIj5cblxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImxhYmxlXCI+U29ydCBjb2RlPC9kaXY+XG4gICAgICAgICAgICA8aW5wdXQgY2xhc3M9XCJmaWVsZFwiIHR5cGU9XCJ0ZXh0XCIgcGxhY2Vob2xkZXI9XCJFLmcuIDEwLTIwLTMwXCIgKGlucHV0KT1cImJyYW5jaF9jb2RlRm9ybWF0KCRldmVudClcIiBtYXhsZW5ndGg9XCI4XCIgPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj48L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtbWQtOFwiPlxuICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPlxuXG5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJsYWJsZSB0cmFuc2l0LWFkanVzdFwiPkFjY291bnQgbnVtYmVyPC9kaXY+XG4gICAgICAgICAgICA8aW5wdXQgY2xhc3M9XCJmaWVsZFwiIHR5cGU9XCJ0ZXh0XCIgcGxhY2Vob2xkZXI9XCJFLmcuIDEyMzQ1Njc4XCIgKGtleXVwKT1cImtleXByZXNzKClcIiA+XG4gICAgICAgIDwvZGl2PjwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbjwvZGl2PlxuPGRpdiAqbmdJZj1cInBheW1lbnRUeXBlPT0xXCIgY2xhc3M9XCJjb250ZW50LWdyb3VwXCI+XG4gICAgPGRpdiBjbGFzcz1cImxhYmxlXCI+QWNjb3VudCBudW1iZXI8L2Rpdj5cbiAgICA8aW5wdXQgY2xhc3M9XCJmaWVsZFwiIHR5cGU9XCJ0ZXh0XCIgcGxhY2Vob2xkZXI9XCJFLmcuIDEyMzQ1Njc4XCIgKGtleXVwKT1cImtleXByZXNzKClcIiA+XG48L2Rpdj5cblxuPGRpdiAqbmdJZj1cInBheW1lbnRUeXBlPT00XCIgY2xhc3M9XCJjb250ZW50LWdyb3VwXCI+XG4gICAgPGRpdiBjbGFzcz1cImxhYmxlXCI+Q3JlZGl0b3IgaWRlbnRpZmllcjwvZGl2PlxuICAgIDxpbnB1dCBjbGFzcz1cImZpZWxkXCIgdHlwZT1cInRleHRcIiBwbGFjZWhvbGRlcj1cIkNyZWRpdG9yIGlkZW50aWZpZXJcIiAoa2V5dXApPVwia2V5cHJlc3MoKVwiID5cbjwvZGl2PlxuXG48ZGl2ICpuZ0lmPVwicGF5bWVudFR5cGU9PTRcIiBjbGFzcz1cImNvbnRlbnQtZ3JvdXBcIj5cbiAgICA8ZGl2IGNsYXNzPVwibGFibGVcIj5JbnRlcm5hdGlvbmFsIGJhbmsgYWNjb3VudCBudW1iZXIgKElCQU4pPC9kaXY+XG4gICAgPGlucHV0IGNsYXNzPVwiZmllbGRcIiB0eXBlPVwidGV4dFwiIHBsYWNlaG9sZGVyPVwiSW50ZXJuYXRpb25hbCBiYW5rIGFjY291bnQgbnVtYmVyIChJQkFOKVwiIChrZXl1cCk9XCJrZXlwcmVzcygpXCIgPlxuPC9kaXY+XG5cbjxkaXYgKm5nSWY9XCJwYXltZW50VHlwZT09MyB8fCBwYXltZW50VHlwZT09NFwiIGNsYXNzPVwiY29udGVudC1ncm91cFwiPlxuICAgIDxkaXYgY2xhc3M9XCJsYWJsZVwiPkJpbGxpbmcgYWRkcmVzczwvZGl2PlxuICAgIDxpbnB1dCBjbGFzcz1cImZpZWxkXCIgdHlwZT1cInRleHRcIiBwbGFjZWhvbGRlcj1cIkFkZHJlc3MgTGluZSAxXCIgPlxuICAgIDxpbnB1dCBjbGFzcz1cImZpZWxkXCIgdHlwZT1cInRleHRcIiBwbGFjZWhvbGRlcj1cIkFkZHJlc3MgTGluZSAyXCIgc3R5bGU9XCJtYXJnaW4tdG9wOjEycHhcIiA+XG5cbjwvZGl2PlxuPGRpdiAqbmdJZj1cInBheW1lbnRUeXBlPT0zIHx8IHBheW1lbnRUeXBlPT00XCIgY2xhc3M9XCJjb250ZW50LWdyb3VwXCI+XG4gICAgPGRpdiBjbGFzcz1cImxhYmxlXCI+QmFuayBhY2NvdW50IG51bWJlcjwvZGl2PlxuICAgIDxpbnB1dCBjbGFzcz1cImZpZWxkXCIgdHlwZT1cInRleHRcIiBwbGFjZWhvbGRlcj1cIkJhbmsgYWNjb3VudCBudW1iZXJcIiAoa2V5dXApPVwia2V5cHJlc3MoKVwiPlxuPC9kaXY+XG48ZGl2ICpuZ0lmPVwicGF5bWVudFR5cGU9PTNcIiBjbGFzcz1cImNvbnRlbnQtZ3JvdXBcIj5cbiAgICA8ZGl2IGNsYXNzPVwicm93XCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtbWQtNlwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImxhYmxlXCI+Um91dGluZyBudW1iZXI8L2Rpdj5cbiAgICAgICAgICAgIDxpbnB1dCBjbGFzcz1cImZpZWxkXCIgdHlwZT1cInRleHRcIiBwbGFjZWhvbGRlcj1cIlJvdXRpbmcgbnVtYmVyXCIgKGtleXVwKT1cImtleXByZXNzKClcIj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtbWQtNlwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImxhYmxlIHRyYW5zaXQtYWRqdXN0XCI+QWNjb3VudCB0eXBlPC9kaXY+XG4gICAgICAgICAgICA8c2VsZWN0IChjbGljayk9XCJrZXlwcmVzcygpXCI+XG4gICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIlwiIGRpc2FibGVkIHNlbGVjdGVkIGhpZGRlbj5QbGVhc2Ugc2VsZWN0PC9vcHRpb24+XG4gICAgICAgICAgICAgICAgPG9wdGlvbj54eHh4IC0geHh4eCAtIHh4eHggLSAxMjM0PC9vcHRpb24+XG4gICAgICAgICAgICAgICAgPG9wdGlvbj5Vc2UgZXhpc3RpbmcgY3JlZGl0IGNhcmQ8L29wdGlvbj5cbiAgICAgICAgICAgIDwvc2VsZWN0PjxpIGNsYXNzPVwiZmEtc29saWQgZmEtYW5nbGUtZG93blwiPjwvaT5cbiAgICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG48L2Rpdj5cblxuPGRpdiBjbGFzcz1cImNvbnRlbnQtZ3JvdXBcIiBzdHlsZT1cIm1hcmdpbi1ib3R0b206IDA7XCI+XG4gICAgPGRpdiAqbmdJZj1cInBheW1lbnRUeXBlPT0xXCI+XG4gICAgPGRpdiBjbGFzcz1cImNvbmZpcm1cIj5cbiAgICAgICAgPHNwYW4gc3R5bGU9XCJtYXJnaW4tdG9wOiA1cHg7XCI+SSBjb25maXJtIHRoYXQgSSBhbSB0aGUgYWNjb3VudCBob2xkZXIgYW5kIGFtIGF1dGhvcmlzZWQgdG8gc2V0IHVwIFBBRCBwYXltZW50cyBvbiB0aGlzIGFjY291bnQ8L3NwYW4+XG4gICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICAgXG4gICAgPGRpdiAqbmdJZj1cInBheW1lbnRUeXBlPT0yXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJjb25maXJtXCI+XG4gICAgICAgICAgICA8c3Bhbj5XZSB3b3JrIHdpdGggYSBjb21wYW55IGNhbGxlZCBHb0NhcmRsZXNzLiBUaGV5IGhlbHAgdXMgcHJvY2VzcyB5b3VyIHBheW1lbnQsIHdoaWNoIGludm9sdmVzIHNvbWUgb2YgeW91ciBwZXJzb25hbCBkYXRhLiBCeSBjb250aW51aW5nLCB5b3UgYWdyZWUgdG8gdGhlaXIgdGVybXMgb2YgdXNlIGFuZCB1bmRlcnN0YW5kIHRoZWlyIDxhIGhyZWY9XCJodHRwczovL2dvY2FyZGxlc3MuY29tL3ByaXZhY3kvcGF5ZXJzL1wiICB0YXJnZXQ9XCJfYmxhbmtcIj4gcHJpdmFjeSBub3RpY2UuPC9hPjwvc3Bhbj48L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgPGRpdiAqbmdJZj1cInBheW1lbnRUeXBlPT0zXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJjb25maXJtLW1zZ1wiPlxuICAgICAgICAgICAgVGhpcyBzZXJ2aWNlIGlzIHByb3ZpZGVkIGJ5IENvbW11bml0eSBGZWRlcmFsIFNhdmluZ3MgQmFuayAo4oCcQ0ZTQuKAnSksIG1lbWJlciBGRElDLCBmb3J3aGljaCBHb0NhcmRsZXNzIEx0ZCBhY3RzIGFzIGEgdGhpcmQtcGFydHkgc2VydmljZXIuIEdvQ2FyZGxlc3MgYW5kIENGU0IgdXNlIHBlcnNvbmFsIGRhdGEgYXMgZGVzY3JpYmVkIGluIDxhPnRoZXNlIHByaXZhY3kgbm90aWNlczwvYT4uIEJ5IHN1Ym1pdHRpbmcgdGhpcyBmb3JtLCB5b3UgYWdyZWUgdG8gdGhlIEdvQ2FyZGxlc3MgPGE+V2Vic2l0ZSBUZXJtcyBvZiBVc2U8L2E+LiBHb0NhcmRsZXNzIHVzZXMgYW5hbHl0aWNzIDxhPmNvb2tpZXM8L2E+LlxuICAgICAgICA8L2Rpdj48L2Rpdj5cbiAgICBcbiAgICAgICAgPGRpdiAqbmdJZj1cInBheW1lbnRUeXBlPT00XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29uZmlybS1tc2dcIj5cbiAgICAgICAgICAgICAgICBCeSBzaWduaW5nIHRoaXMgbWFuZGF0ZSBmb3JtLCB5b3UgYXV0aG9yaXNlIChBKSBHb0NhcmRsZXNzIHRvIHNlbmQgaW5zdHJ1Y3Rpb25zIHRvIHlvdXIgYmFuayB0byBkZWJpdCB5b3VyIGFjY291bnQgKEIpIHlvdXIgYmFuayB0byBkZWJpdCB5b3VyIGFjY291bnQgaW4gYWNjb3JkYW5jZSB3aXRoIHRoZSBpbnN0cnVjdGlvbnMgZnJvbSBHb0NhcmRsZXNzLiBBcyBwYXJ0IG9mIHlvdXIgcmlnaHRzLCB5b3UgYXJlIGVudGl0bGVkIHRvIHJlZnVuZCBmcm9tIHlvdXIgYmFuayB1bmRlciB0aGUgdGVybXMgYW5kIGNvbmRpdGlvbnMgb2YgeW91ciBhZ3JlZW1lbnQgd2l0aCB5b3VyIGJhbmsuIEEgcmVmdW5kIG11c3QgYmUgY2xhaW1lZCB3aXRoaW4gOCB3ZWVrcyBzdGFydGluZyBmcm9tIHRoZSBkYXRlIG9uIHdoaWNoIHlvdXIgYWNjb3VudCB3YXMgZGViaXRlZC5cbiAgICAgICAgICAgIDwvZGl2PjwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgPC9mb3JtPiJdfQ==