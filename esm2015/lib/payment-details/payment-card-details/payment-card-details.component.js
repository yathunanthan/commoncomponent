import { Component, Input, Output, EventEmitter } from '@angular/core';
import { Validators } from '@angular/forms';
import { CreditCardValidators } from 'angular-cc-library';
import * as i0 from "@angular/core";
import * as i1 from "@angular/forms";
import * as i2 from "../../serivces/common-payment.service";
import * as i3 from "@angular/common";
import * as i4 from "ngx-card";
export class PaymentCardDetailsComponent {
    constructor(fb, commomPaymentService) {
        this.fb = fb;
        this.commomPaymentService = commomPaymentService;
        this.payEmitter = new EventEmitter();
        this.storedCards = [];
        this.cardType = '';
        this.card = false;
        this.cardwidth = 350;
        this.messages = { validDate: 'valid\ndate', monthYear: 'mm/yy' }; //Strings for translation
        this.placeholders = { number: '•••• •••• •••• ••••', name: 'Full Name', expiry: '••/••', cvc: '•••' }; // Placeholders for rendered fields
        this.formatting = true;
        this.debug = true; // If true, will log helpful messages for setting up Card
        this.companyNameSelected = false;
        this.isCardNumberLength = true;
        this.cardLogo = '';
        this.cardImg = "";
        this.card = false;
        this.buildCreditFormS();
    }
    ngOnInit() {
        var _a, _b, _c;
        this.payEmitter.emit(true);
        let invoiceAddressesId = ((_a = this.cardPaymentData.invoiceDetails) === null || _a === void 0 ? void 0 : _a.invoiceAddressId) ? this.cardPaymentData.invoiceDetails.invoiceAddressId : this.cardPaymentData.invoiceAddressNo;
        this.portalName = (_b = this.commomPaymentService.apiUrl) === null || _b === void 0 ? void 0 : _b.portal;
        this.commomPaymentService.paymentStoredCard$.subscribe((stored) => {
            this.paymentStoredDetials = stored;
        });
        console.log('invaddress0', this.paymentStoredDetials);
        console.log('cardpaymentdetal', this.cardPaymentData);
        if (((_c = this.commomPaymentService.apiUrl) === null || _c === void 0 ? void 0 : _c.apiUrl) != '') {
            if (this.paymentStoredDetials == null || this.paymentStoredDetials == undefined) {
                this.commomPaymentService.getStorecard(invoiceAddressesId).subscribe((res) => {
                    if (res && res.records) {
                        this.storedCards = res.records;
                    }
                    else {
                        this.storedCards = res;
                    }
                    this.commomPaymentService.setPaymentStoredCard(this.storedCards);
                    console.log('cardDetails', this.storedCards);
                });
            }
            else {
                this.storedCards = this.paymentStoredDetials;
                console.log('cardDetailsafter', this.storedCards);
            }
        }
    }
    dropdown(val) {
        this.card = false;
        this.payEmitter.emit(false);
        if (val.value == 'Set up new debit or credit card') {
            this.card = true;
            if (this.portalName != 'AcceptProposal') {
                this.buildCreditForms();
            }
            else {
                this.buildCreditFormS();
            }
        }
        else {
            if (this.storedCards.storedCardDetails.length == 1) {
                this.cardSelected(this.storedCards.storedCardDetails[0].id, 'ts');
            }
            this.card = false;
        }
        // this.translate.get("Use existing credit card").subscribe(translations => {
        //   if(val.value== translations){
        //     this.card=true
        //     if(this.storedCards.length == 1){
        //       this.cardSelected(this.storedCards[0].id,'ts')
        //     }
        //   }
        //   else{
        //     this.card=false
        //     this.buildCreditForms()
        //   }
        // })
    }
    buildCreditForms() {
        var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k;
        let date = new Date().toISOString().slice(0, 10);
        let invoiceNo;
        if ((_a = this.cardPaymentData.invoiceDetails) === null || _a === void 0 ? void 0 : _a.invoiceNumber) {
            invoiceNo = ((_b = this.cardPaymentData.invoiceDetails) === null || _b === void 0 ? void 0 : _b.invoiceNumber) ? "Invoice no : " + this.cardPaymentData.invoiceDetails.invoiceNumber : '';
        }
        else {
            invoiceNo = 'Opportunity no: ' + this.cardPaymentData.opportunityId;
        }
        let paymentId;
        if (((_c = this.cardPaymentData) === null || _c === void 0 ? void 0 : _c.cardCharges.length) != 0) {
            paymentId = this.cardPaymentData.cardCharges[this.commomPaymentService.cardCharges].paymentMethodId;
        }
        this.creditForm = this.fb.group({
            payment: this.fb.group({
                'cardCharge': [((_d = this.cardPaymentData) === null || _d === void 0 ? void 0 : _d.cardCharges[0].charge) ? this.cardPaymentData.cardCharges[0].charge : this.cardPaymentData.paymentCharge[0].charge],
                'cardName': [((_f = (_e = this.cardPaymentData) === null || _e === void 0 ? void 0 : _e.customerDetails) === null || _f === void 0 ? void 0 : _f.customerName) ? this.cardPaymentData.customerDetails.customerName : this.cardPaymentData.customerName, [Validators.required]],
                'cardNumber': ['', [Validators.required, CreditCardValidators.validateCCNumber]],
                'cardCvc': ['', [Validators.required, Validators.minLength(3), Validators.maxLength(4)]],
                'paymentDate': [date],
                'description': [invoiceNo],
                'isportal': [true],
                'reference': [invoiceNo],
                'email': [((_h = (_g = this.cardPaymentData) === null || _g === void 0 ? void 0 : _g.customerDetails) === null || _h === void 0 ? void 0 : _h.emailId) ? this.cardPaymentData.customerDetails.emailId : '', [Validators.required, Validators.email]],
                'expiry': ['', [Validators.required, CreditCardValidators.validateExpDate]],
                "paymentMethod": [paymentId ? paymentId : ''],
                "dontSendToAccounts": [''],
            })
        });
        this.placeholders = { name: ((_k = (_j = this.cardPaymentData) === null || _j === void 0 ? void 0 : _j.customerDetails) === null || _k === void 0 ? void 0 : _k.customerName) ? this.cardPaymentData.customerDetails.customerName : 'Full Name' };
    }
    buildCreditFormS() {
        var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m;
        let date = new Date().toISOString().slice(0, 10);
        let invoiceNo;
        if ((_a = this.cardPaymentData.invoiceDetails) === null || _a === void 0 ? void 0 : _a.invoiceNumber) {
            invoiceNo = ((_b = this.cardPaymentData.invoiceDetails) === null || _b === void 0 ? void 0 : _b.invoiceNumber) ? "Invoice no : " + this.cardPaymentData.invoiceDetails.invoiceNumber : '';
        }
        else {
            invoiceNo = 'Opportunity no: ' + this.cardPaymentData.opportunityId;
        }
        let paymentId;
        if (((_c = this.cardPaymentData) === null || _c === void 0 ? void 0 : _c.cardCharges.length) != 0) {
            paymentId = this.cardPaymentData.cardCharges[this.commomPaymentService.cardCharges].paymentMethodId;
        }
        this.creditForm = this.fb.group({
            'amount': [((_d = this.cardPaymentData) === null || _d === void 0 ? void 0 : _d.showDeposit) ? (_e = this.cardPaymentData) === null || _e === void 0 ? void 0 : _e.showDeposit : ''],
            'cardCharge': [((_f = this.cardPaymentData) === null || _f === void 0 ? void 0 : _f.cardCharges[0].charge) ? this.cardPaymentData.cardCharges[0].charge : this.cardPaymentData.paymentCharge[0].charge],
            'cardName': [((_h = (_g = this.cardPaymentData) === null || _g === void 0 ? void 0 : _g.customerDetails) === null || _h === void 0 ? void 0 : _h.customerName) ? this.cardPaymentData.customerDetails.customerName : this.cardPaymentData.customerName, [Validators.required]],
            'cardNumber': ['', [Validators.required, CreditCardValidators.validateCCNumber]],
            'cardCvc': ['', [Validators.required, Validators.minLength(3), Validators.maxLength(4)]],
            'paymentDate': [date],
            'description': [invoiceNo],
            'isportal': [true],
            'reference': [invoiceNo],
            'email': [((_k = (_j = this.cardPaymentData) === null || _j === void 0 ? void 0 : _j.customerDetails) === null || _k === void 0 ? void 0 : _k.emailId) ? this.cardPaymentData.customerDetails.emailId : '', [Validators.required, Validators.email]],
            'expiry': ['', [Validators.required, CreditCardValidators.validateExpDate]],
            "paymentMethod": [paymentId ? paymentId : ''],
            "dontSendToAccounts": [''],
        });
        this.placeholders = { name: ((_m = (_l = this.cardPaymentData) === null || _l === void 0 ? void 0 : _l.customerDetails) === null || _m === void 0 ? void 0 : _m.customerName) ? this.cardPaymentData.customerDetails.customerName : 'Full Name' };
    }
    companyNameClick() {
        this.companyNameSelected = !this.companyNameSelected;
        this.creditForm.patchValue({ 'payment': { 'cardName': '' } });
    }
    keypress() {
        this.payEmitter.emit(this.creditForm);
    }
    setCardType() {
        this.cardLogo = this.detectCardType(this.creditForm.value.payment.cardNumber.replace(/\s/g, ""));
        var cardStatus = this.creditForm.get('payment.cardNumber');
        if (this.isCardNumberLength && (cardStatus === null || cardStatus === void 0 ? void 0 : cardStatus.status) == "INVALID")
            this.isCardNumberLength = false;
        if (!this.isCardNumberLength && (cardStatus === null || cardStatus === void 0 ? void 0 : cardStatus.status) == "VALID")
            this.isCardNumberLength = true;
        this.payEmitter.emit(this.creditForm);
        this.cardImg = "assets/paymentType/" + this.cardLogo + ".svg";
    }
    defaultCard() {
        this.cardImg = "assets/paymentType/card.svg";
    }
    errorHandler() {
        this.cardLogo = 'card';
    }
    cardSelected(val, from) {
        var _a;
        if (from == 'html') {
            val = val.value;
        }
        this.cardSelectedType = from;
        this.cardType = val.toString();
        var intArr = this.cardType.split(",");
        intArr.forEach((element) => {
            const tagsData = this.storedCards.storedCardDetails.find((x) => x['id'] == element);
            this.cardLogo = tagsData.card_type;
        });
        let date = new Date().toISOString().slice(0, 10);
        let invoiceNumber = ((_a = this.cardPaymentData.invoiceDetails) === null || _a === void 0 ? void 0 : _a.invoiceNumber) ? "Invoice no : #" + this.cardPaymentData.invoiceDetails.invoiceNumber : '';
        this.creditForm = this.fb.group({
            'paymentDate': [date, [Validators.required]],
            'description': [invoiceNumber],
            'reference': [invoiceNumber],
            'paymentMethod': [this.cardPaymentData.cardCharges[this.commomPaymentService.cardCharges].paymentMethodId, [Validators.required]],
            'storedCard': [val, [Validators.required]],
            'cardName': [this.cardPaymentData.customerDetails.customerName, [Validators.required]],
            'amount': [],
            'cardCharge': [this.cardPaymentData.cardCharges[this.commomPaymentService.cardCharges].charge,],
            'isPortal': [true],
        });
        setTimeout(() => {
            this.payEmitter.emit(this.creditForm);
        }, 100);
    }
    detectCardType(number) {
        var re = {
            electron: /^(4026|417500|4405|4508|4844|4913|4917)\d+$/,
            maestro: /^(5018|5020|5038|5612|5893|6304|6759|6761|6762|6763|0604|6390)\d+$/,
            dankort: /^(5019)\d+$/,
            interpayment: /^(636)\d+$/,
            unionpay: /^(62|88)\d+$/,
            'Visa': /^4[0-9]{12}(?:[0-9]{3})?$/,
            'MasterCard': /^5[1-5][0-9]{14}$/,
            'American Express': /^3[47][0-9]{13}$/,
            diners: /^3(?:0[0-5]|[68][0-9])[0-9]{11}$/,
            discover: /^6(?:011|5[0-9]{2})[0-9]{12}$/,
            jcb: /^(?:2131|1800|35\d{3})\d{11}$/
        };
        for (var key in re) {
            if (re[key].test(number)) {
                return key;
            }
        }
        return false;
    }
}
PaymentCardDetailsComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "12.2.17", ngImport: i0, type: PaymentCardDetailsComponent, deps: [{ token: i1.FormBuilder }, { token: i2.CommonPaymentService }], target: i0.ɵɵFactoryTarget.Component });
PaymentCardDetailsComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "12.2.17", type: PaymentCardDetailsComponent, selector: "lib-payment-card-details", inputs: { cardPaymentData: "cardPaymentData" }, outputs: { payEmitter: "payEmitter" }, ngImport: i0, template: "<div class=\"content-group\" *ngIf=\"storedCards.length != 0\">\n    <div class=\"content-group\" style=\"margin-bottom:-16px\" *ngIf=\"portalName != 'AcceptProposal'\">\n        <select (change)=\"dropdown($event.target)\">\n            <option>Use existing credit card</option>\n            <option>Set up new debit or credit card</option>\n        </select><i class=\"fa-solid fa-angle-down\"></i>\n        <div class=\"vh\"></div>\n    </div>\n</div>\n\n<div *ngIf=\"card\">\n    <div class=\"content-group group-card\" style=\"margin-top:32px;margin-bottom: 0;\">\n        <div class=\"lable\">Select card</div>\n        <select (selected)=\"cardSelected($event.target,'html')\"\n            [ngStyle]=\"{'padding-left': cardSelectedType == 'html' || cardSelectedType == 'ts'  ? '46px' : '' }\">\n            <option value=\"\" disabled selected hidden>Please select</option>\n            <option *ngFor=\"let card of storedCards.storedCardDetails\"\n                [selected]=\"storedCards.storedCardDetails.length == 1\" [value]=\"card.id\"><span\n                    class=\"cardDescription\">XXXX - XXXX - XXXX -\n                    {{card.description.substring(card.description.indexOf('with') + 4)| slice:0:5 }}</span></option>\n        </select><i class=\"fa-solid fa-angle-down\"></i>\n    </div>\n    <div *ngIf=\"cardSelectedType == 'html' || cardSelectedType == 'ts'\">\n        <img class=\"stored-icon-aligns\" src=\"assets/paymentType/{{cardLogo}}.svg\" (error)=\"errorHandler()\">\n    </div>\n</div>\n<div *ngIf=\"!card\">\n    <div *ngIf=\"portalName != 'AcceptProposal'\">\n        <form [formGroup]=\"creditForm\" card container=\".card-container\" [card-width]=\"410\" [messages]=\"messages\"\n            [placeholders]=\"placeholders\" [masks]=\"masks\" [formatting]=\"formatting\" [debug]=\"debug\">\n            <ng-container formGroupName=\"payment\">\n                <div class=\"row\">\n                    <div class=\"col-md-6 credit-card-hide\">\n                        <div class=\"card-container\">\n\n                        </div>\n                    </div>\n                    <div class=\"col-md-6\">\n                        <div class=\"content-group\">\n                            <div *ngIf=\"!companyNameSelected\" class=\"lable required\">Cardholder's name\n                            </div>\n                            <div *ngIf=\"companyNameSelected\" class=\"lable required\">Company name</div>\n                            <input class=\"field\" type=\"text\" card-name formControlName=\"cardName\" (keyup)=\"keypress()\">\n                            <div *ngIf=\"!companyNameSelected\" class=\"company-name-link\" (click)=\"companyNameClick()\">Or\n                                click here to use a company name</div>\n                            <div *ngIf=\"companyNameSelected\" class=\"company-name-link\" (click)=\"companyNameClick()\">Or\n                                click here to use your personal information</div>\n                        </div>\n                        <div class=\"content-group\">\n                            <div class=\"lable required\">Card number</div>\n                            <input class=\"field\" type=\"tel\" autocomplete=\"cc-number\" card-number\n                                formControlName=\"cardNumber\" maxlength=\"19\" placeholder=\"xxxx xxxx xxxx xxxx\"\n                                (keyup)=\"setCardType()\" [class.error_field]=\"!isCardNumberLength\">\n                            <img *ngIf=\"cardLogo\" class=\"icon-align\" src=\"{{cardImg}}\" (error)=\"defaultCard()\"\n                                alt=\"card name\">\n                        </div>\n                        <div class=\"row row-group\">\n                            <div class=\"col content-group\">\n                                <div class=\"lable required\">CVC</div>\n                                <input class=\"field\" type=\"password\" autocomplete=\"new-password\" pattern=\"[0-9]*\"\n                                    inputmode=\"numeric\" card-cvc placeholder=\"xxx\" formControlName=\"cardCvc\"\n                                    (keyup)=\"keypress()\">\n                            </div>\n                            <div class=\"col content-group\">\n                                <div class=\"lable required\">Exp date</div>\n                                <input class=\"field\" type=\"tel\" autocomplete=\"cc-exp\" card-expiry\n                                    formControlName=\"expiry\" placeholder=\"MM / YY\" (keyup)=\"keypress()\">\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"content-group\" style=\"margin-bottom: 0;\">\n                    <div class=\"lable required\">Email address</div>\n                    <input class=\"field\" formControlName=\"email\" type=\"email\" (keyup)=\"keypress()\">\n                    <div class=\"email-info\">This email will only be used to keep you updated about their payments</div>\n                </div>\n            </ng-container>\n        </form>\n    </div>\n    <div *ngIf=\"portalName == 'AcceptProposal'\">\n        <form [formGroup]=\"creditForm\" card container=\".card-container\" [card-width]=\"410\" [messages]=\"messages\"\n            [placeholders]=\"placeholders\" [masks]=\"masks\" [formatting]=\"formatting\" [debug]=\"debug\">\n            <div class=\"row\">\n                <div class=\"col-md-6 credit-card-hide\">\n                    <div class=\"card-container\">\n\n                    </div>\n                </div>\n                <div class=\"col-md-6\">\n                    <div class=\"content-group\">\n                        <div *ngIf=\"!companyNameSelected\" class=\"lable required\">Cardholder's name\n                        </div>\n                        <div *ngIf=\"companyNameSelected\" class=\"lable required\">Company name</div>\n                        <input class=\"field\" type=\"text\" card-name formControlName=\"cardName\" (keyup)=\"keypress()\">\n                        <div *ngIf=\"!companyNameSelected\" class=\"company-name-link\" (click)=\"companyNameClick()\">Or\n                            click here to use a company name</div>\n                        <div *ngIf=\"companyNameSelected\" class=\"company-name-link\" (click)=\"companyNameClick()\">Or click\n                            here to use your personal information</div>\n                    </div>\n                    <div class=\"content-group\">\n                        <div class=\"lable required\">Card number</div>\n                        <input class=\"field\" type=\"tel\" autocomplete=\"cc-number\" card-number\n                            formControlName=\"cardNumber\" maxlength=\"19\" placeholder=\"xxxx xxxx xxxx xxxx\"\n                            (keyup)=\"setCardType()\" [class.error_field]=\"!isCardNumberLength\">\n                        <img *ngIf=\"cardLogo\" class=\"icon-align\" src=\"{{cardImg}}\" (error)=\"defaultCard()\"\n                            alt=\"card name\">\n                    </div>\n                    <div class=\"row row-group\">\n                        <div class=\"col content-group\">\n                            <div class=\"lable required\">CVC</div>\n                            <input class=\"field\" type=\"password\" autocomplete=\"new-password\" pattern=\"[0-9]*\"\n                                inputmode=\"numeric\" card-cvc placeholder=\"xxx\" formControlName=\"cardCvc\"\n                                (keyup)=\"keypress()\">\n                        </div>\n                        <div class=\"col content-group\">\n                            <div class=\"lable required\">Exp date</div>\n                            <input class=\"field\" type=\"tel\" autocomplete=\"cc-exp\" card-expiry formControlName=\"expiry\"\n                                placeholder=\"MM / YY\" (keyup)=\"keypress()\">\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class=\"content-group\" style=\"margin-bottom: 0;\">\n                <div class=\"lable required\">Email address</div>\n                <input class=\"field\" formControlName=\"email\" type=\"email\" (keyup)=\"keypress()\">\n                <div class=\"email-info\">This email will only be used to keep you updated about their payments</div>\n            </div>\n        </form>\n    </div>\n</div>", styles: [".content-group{margin:16px 0;font-size:14px}.content-group .vh{border-bottom:1px dashed var(--primaryBorderColor);margin:16px 0}.content-group select{cursor:pointer;appearance:none;background-color:#fff;border:1px solid var(--primaryBorderColor);border-radius:4px;padding:0 5px;color:var(--primaryTextColor)}.content-group select:focus-visible{outline:1px solid var(--inputHighlight)}.content-group .fa-angle-down{position:absolute;margin-left:-30px;margin-top:13px;color:var(--primaryTextColor)}.content-group .icon-align{width:20px;max-height:32px;margin-right:16px}.row-group{margin:-16px 0 0;grid-gap:24px;gap:24px}.row-group .col{padding:0}.col{padding:0}select{width:100%;height:40px}.icon-align{margin-top:4px;width:33px!important;height:-moz-fit-content!important;height:fit-content!important;position:absolute;margin-left:-49px;filter:invert(74%) sepia(2%) brightness(49%) contrast(80%)}.stored-icon-aligns{margin-top:4px;width:33px!important;height:-moz-fit-content!important;height:fit-content!important;position:absolute;margin-left:-49px;filter:invert(74%) sepia(2%) brightness(49%) contrast(80%);position:relative;left:56px;top:-38px}.lable{color:var(--primaryTextColor);padding-bottom:8px;font-family:\"Helvetica\";font-style:normal;font-weight:400;font-size:14px;line-height:24px}.field{width:100%;border:1px solid var(--primaryBorderColor);border-radius:4px;height:40px;padding:0 5px;color:var(--primaryTextColor);font-family:\"Helvetica\";font-style:normal;font-weight:400;font-size:14px;line-height:24px}.field:focus-visible{outline:1px solid var(--inputHighlight)}.error_field{border-color:var(--negativeButtonColours)}.error_field:focus-visible{outline:none}.company-name-link{padding-top:8px;color:var(--tertiaryButtonFontColour);cursor:pointer;font-family:\"Helvetica\";font-style:normal;font-weight:400;font-size:14px;line-height:20px;max-width:-moz-fit-content;max-width:fit-content}.email-info{color:var(--positiveFoundation);margin-top:8px;font-family:\"Helvetica\";font-style:normal;font-weight:400;font-size:14px;line-height:24px}.credit-card-hide{margin:auto}.card-container{margin-top:25px}::ng-deep .jp-card-name{font-size:16px!important}.invalid-input{margin-top:5px;color:#b94a48}@media (max-width: 857px){.card-container{transform:scale(.9)}}@media (max-width: 768px){.card-container{transform:scale(.89)}.content-group{margin:12px 0}}@media (max-width: 578px){.row-group{grid-gap:16px;gap:16px}}@media (max-width: 425px){.card-container{margin-bottom:12px;margin-top:0;margin-left:0;transform:scale(.8)!important}}@media (max-width: 380px){.card-container{margin-top:0;margin-left:0;margin-bottom:0;transform:scale(.8)!important}}@media (max-width: 320px){.card-container{margin-left:-20px;margin-top:0;margin-bottom:0;transform:scale(.65)!important}}\n"], directives: [{ type: i3.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { type: i1.NgSelectOption, selector: "option", inputs: ["ngValue", "value"] }, { type: i1.ɵNgSelectMultipleOption, selector: "option", inputs: ["ngValue", "value"] }, { type: i3.NgStyle, selector: "[ngStyle]", inputs: ["ngStyle"] }, { type: i3.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { type: i1.ɵNgNoValidate, selector: "form:not([ngNoForm]):not([ngNativeValidate])" }, { type: i1.NgControlStatusGroup, selector: "[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]" }, { type: i4.NgxCard, selector: "[card]", inputs: ["formatting", "debug", "messages", "placeholders", "container", "card-width", "masks"] }, { type: i1.FormGroupDirective, selector: "[formGroup]", inputs: ["formGroup"], outputs: ["ngSubmit"], exportAs: ["ngForm"] }, { type: i1.FormGroupName, selector: "[formGroupName]", inputs: ["formGroupName"] }, { type: i1.DefaultValueAccessor, selector: "input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]" }, { type: i4.NgxCardNameTemplate, selector: "[card-name]" }, { type: i1.NgControlStatus, selector: "[formControlName],[ngModel],[formControl]" }, { type: i1.FormControlName, selector: "[formControlName]", inputs: ["disabled", "formControlName", "ngModel"], outputs: ["ngModelChange"] }, { type: i4.NgxCardNumberTemplate, selector: "[card-number]" }, { type: i1.MaxLengthValidator, selector: "[maxlength][formControlName],[maxlength][formControl],[maxlength][ngModel]", inputs: ["maxlength"] }, { type: i1.PatternValidator, selector: "[pattern][formControlName],[pattern][formControl],[pattern][ngModel]", inputs: ["pattern"] }, { type: i4.NgxCardCvcTemplate, selector: "[card-cvc]" }, { type: i4.NgxCardExpiryTemplate, selector: "[card-expiry]" }], pipes: { "slice": i3.SlicePipe } });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "12.2.17", ngImport: i0, type: PaymentCardDetailsComponent, decorators: [{
            type: Component,
            args: [{
                    selector: 'lib-payment-card-details',
                    templateUrl: './payment-card-details.component.html',
                    styleUrls: ['./payment-card-details.component.scss']
                }]
        }], ctorParameters: function () { return [{ type: i1.FormBuilder }, { type: i2.CommonPaymentService }]; }, propDecorators: { payEmitter: [{
                type: Output
            }], cardPaymentData: [{
                type: Input
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGF5bWVudC1jYXJkLWRldGFpbHMuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvcGFyZW50cGF5bWVudC9zcmMvbGliL3BheW1lbnQtZGV0YWlscy9wYXltZW50LWNhcmQtZGV0YWlscy9wYXltZW50LWNhcmQtZGV0YWlscy5jb21wb25lbnQudHMiLCIuLi8uLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9wYXJlbnRwYXltZW50L3NyYy9saWIvcGF5bWVudC1kZXRhaWxzL3BheW1lbnQtY2FyZC1kZXRhaWxzL3BheW1lbnQtY2FyZC1kZXRhaWxzLmNvbXBvbmVudC5odG1sIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQVUsS0FBSyxFQUFFLE1BQU0sRUFBRSxZQUFZLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDL0UsT0FBTyxFQUF1QyxVQUFVLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUNqRixPQUFPLEVBQUUsb0JBQW9CLEVBQUUsTUFBTSxvQkFBb0IsQ0FBQzs7Ozs7O0FBUTFELE1BQU0sT0FBTywyQkFBMkI7SUE0QnBDLFlBQ1EsRUFBZSxFQUNmLG9CQUEwQztRQUQxQyxPQUFFLEdBQUYsRUFBRSxDQUFhO1FBQ2YseUJBQW9CLEdBQXBCLG9CQUFvQixDQUFzQjtRQTVCMUMsZUFBVSxHQUFxQixJQUFJLFlBQVksRUFBTyxDQUFDO1FBR2pFLGdCQUFXLEdBQU0sRUFBRSxDQUFDO1FBQ3BCLGFBQVEsR0FBTSxFQUFFLENBQUM7UUFJakIsU0FBSSxHQUFTLEtBQUssQ0FBQztRQUVuQixjQUFTLEdBQVcsR0FBRyxDQUFDO1FBQ3hCLGFBQVEsR0FBUSxFQUFDLFNBQVMsRUFBRSxhQUFhLEVBQUUsU0FBUyxFQUFFLE9BQU8sRUFBQyxDQUFDLENBQUUseUJBQXlCO1FBQzFGLGlCQUFZLEdBQVEsRUFBQyxNQUFNLEVBQUUscUJBQXFCLEVBQUUsSUFBSSxFQUFF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QUFNLEVBQUUsMkJBQTJCO1lBQ25DLFlBQVksRUFBRSxtQkFBbUI7WUFDakMsa0JBQWtCLEVBQUUsa0JBQWtCO1lBQ3RDLE1BQU0sRUFBRSxrQ0FBa0M7WUFDMUMsUUFBUSxFQUFFLCtCQUErQjtZQUN6QyxHQUFHLEVBQUUsK0JBQStCO1NBQ3ZDLENBQUE7UUFFRCxLQUFJLElBQUksR0FBRyxJQUFJLEVBQUUsRUFBRTtZQUNmLElBQUcsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsRUFBRTtnQkFDdkIsT0FBTyxHQUFHLENBQUE7YUFDWDtTQUNKO1FBQ0QsT0FBTyxLQUFLLENBQUM7SUFDZixDQUFDOzt5SEF6T1ksMkJBQTJCOzZHQUEzQiwyQkFBMkIsdUpDVnhDLHd6UUFpSU07NEZEdkhPLDJCQUEyQjtrQkFMdkMsU0FBUzttQkFBQztvQkFDVCxRQUFRLEVBQUUsMEJBQTBCO29CQUNwQyxXQUFXLEVBQUUsdUNBQXVDO29CQUNwRCxTQUFTLEVBQUUsQ0FBQyx1Q0FBdUMsQ0FBQztpQkFDckQ7cUlBR1csVUFBVTtzQkFBbkIsTUFBTTtnQkFLRSxlQUFlO3NCQUF2QixLQUFLIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50LCBPbkluaXQgLElucHV0ICxPdXRwdXQsIEV2ZW50RW1pdHRlciB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgRm9ybUJ1aWxkZXIsIEZvcm1Db250cm9sLCBGb3JtR3JvdXAsIFZhbGlkYXRvcnMgfSBmcm9tICdAYW5ndWxhci9mb3Jtcyc7XG5pbXBvcnQgeyBDcmVkaXRDYXJkVmFsaWRhdG9ycyB9IGZyb20gJ2FuZ3VsYXItY2MtbGlicmFyeSc7XG5pbXBvcnQgeyBDb21tb25QYXltZW50U2VydmljZSB9IGZyb20gJy4uLy4uL3Nlcml2Y2VzL2NvbW1vbi1wYXltZW50LnNlcnZpY2UnO1xuXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdsaWItcGF5bWVudC1jYXJkLWRldGFpbHMnLFxuICB0ZW1wbGF0ZVVybDogJy4vcGF5bWVudC1jYXJkLWRldGFpbHMuY29tcG9uZW50Lmh0bWwnLFxuICBzdHlsZVVybHM6IFsnLi9wYXltZW50LWNhcmQtZGV0YWlscy5jb21wb25lbnQuc2NzcyddXG59KVxuZXhwb3J0IGNsYXNzIFBheW1lbnRDYXJkRGV0YWlsc0NvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCB7XG5cbiAgQE91dHB1dCgpIHBheUVtaXR0ZXI6RXZlbnRFbWl0dGVyPGFueT4gPSBuZXcgRXZlbnRFbWl0dGVyPGFueT4oKTtcblxuICB1c2VyRGF0YTogYW55O1xuICBzdG9yZWRDYXJkczogYW55PVtdO1xuICBjYXJkVHlwZTogYW55PScnO1xuICBASW5wdXQoKSBjYXJkUGF5bWVudERhdGE6YW55O1xuICAvLyBASW5wdXQoKSBzdG9yZWRDYXJkczphbnk7XG4gIGNhcmRTZWxlY3RlZFR5cGU6IGFueTtcbiAgY2FyZDpib29sZWFuPWZhbHNlO1xuICBjb250YWluZXI6IGFueTtcbiAgY2FyZHdpZHRoOiBOdW1iZXIgPSAzNTA7XG4gIG1lc3NhZ2VzOiBhbnkgPSB7dmFsaWREYXRlOiAndmFsaWRcXG5kYXRlJywgbW9udGhZZWFyOiAnbW0veXknfTsgIC8vU3RyaW5ncyBmb3IgdHJhbnNsYXRpb25cbiAgcGxhY2Vob2xkZXJzOiBhbnkgPSB7bnVtYmVyOiAn4oCi4oCi4oCi4oCiIOKAouKAouKAouKAoiDigKLigKLigKLigKIg4oCi4oCi4oCi4oCiJywgbmFtZTogJ0Z1bGwgTmFtZScsIGV4cGlyeTogJ+KAouKAoi/igKLigKInLCBjdmM6ICfigKLigKLigKInfSAvLyBQbGFjZWhvbGRlcnMgZm9yIHJlbmRlcmVkIGZpZWxkc1xuICBtYXNrczogYW55O1xuICBmb3JtYXR0aW5nOiBib29sZWFuID0gdHJ1ZTtcbiAgZGVidWc6IGJvb2xlYW4gPSB0cnVlOyAvLyBJZiB0cnVlLCB3aWxsIGxvZyBoZWxwZnVsIG1lc3NhZ2VzIGZvciBzZXR0aW5nIHVwIENhcmRcbiAgY3JlZGl0Rm9ybSE6IEZvcm1Hcm91cDtcbiAgc3VtbWFyeTogYW55O1xuICBjb21wYW55TmFtZVNlbGVjdGVkOmJvb2xlYW49ZmFsc2U7XG4gIGlzQ2FyZE51bWJlckxlbmd0aDogYm9vbGVhbj10cnVlO1xuICBjYXJkTG9nbzogYW55PScnO1xuICBjYXJkSW1nOiBzdHJpbmcgPSBcIlwiO1xuICBzdG9yZWRDYXJkRGF0YTphbnk7XG4gIHBheW1lbnRTdG9yZWREZXRpYWxzOmFueTtcbiAgcG9ydGFsTmFtZTphbnk7XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICBwcml2YXRlIGZiOiBGb3JtQnVpbGRlcixcbiAgICBwcml2YXRlIGNvbW1vbVBheW1lbnRTZXJ2aWNlOiBDb21tb25QYXltZW50U2VydmljZVxuICApIHsgdGhpcy5jYXJkID0gZmFsc2U7XG4gICAgdGhpcy5idWlsZENyZWRpdEZvcm1TKCk7fVxuXG4gIG5nT25Jbml0KCk6IHZvaWQge1xuICBcbiAgICB0aGlzLnBheUVtaXR0ZXIuZW1pdCh0cnVlKTtcblxuICAgIGxldCBpbnZvaWNlQWRkcmVzc2VzSWQgPSB0aGlzLmNhcmRQYXltZW50RGF0YS5pbnZvaWNlRGV0YWlscz8uaW52b2ljZUFkZHJlc3NJZCA/IHRoaXMuY2FyZFBheW1lbnREYXRhLmludm9pY2VEZXRhaWxzLmludm9pY2VBZGRyZXNzSWQgOiB0aGlzLmNhcmRQYXltZW50RGF0YS5pbnZvaWNlQWRkcmVzc05vO1xuICAgIHRoaXMucG9ydGFsTmFtZSA9IHRoaXMuY29tbW9tUGF5bWVudFNlcnZpY2UuYXBpVXJsPy5wb3J0YWw7XG4gICAgdGhpcy5jb21tb21QYXltZW50U2VydmljZS5wYXltZW50U3RvcmVkQ2FyZCQuc3Vic2NyaWJlKChzdG9yZWQ6YW55KT0+e1xuICAgICAgdGhpcy5wYXltZW50U3RvcmVkRGV0aWFscyA9IHN0b3JlZDtcbiAgICB9KTtcbiAgICBjb25zb2xlLmxvZygnaW52YWRkcmVzczAnLHRoaXMucGF5bWVudFN0b3JlZERldGlhbHMpO1xuICAgIGNvbnNvbGUubG9nKCdjYXJkcGF5bWVudGRldGFsJyx0aGlzLmNhcmRQYXltZW50RGF0YSk7XG4gICAgaWYodGhpcy5jb21tb21QYXltZW50U2VydmljZS5hcGlVcmw/LmFwaVVybCAhPSAnJyl7XG4gICAgICBpZih0aGlzLnBheW1lbnRTdG9yZWREZXRpYWxzID09IG51bGwgfHwgdGhpcy5wYXltZW50U3RvcmVkRGV0aWFscyA9PSB1bmRlZmluZWQpe1xuICAgICAgICB0aGlzLmNvbW1vbVBheW1lbnRTZXJ2aWNlLmdldFN0b3JlY2FyZChpbnZvaWNlQWRkcmVzc2VzSWQpLnN1YnNjcmliZSgocmVzOmFueSk9PntcbiAgICAgICAgICBpZihyZXMgJiYgcmVzLnJlY29yZHMpe1xuICAgICAgICAgICAgdGhpcy5zdG9yZWRDYXJkcyA9IHJlcy5yZWNvcmRzO1xuICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgdGhpcy5zdG9yZWRDYXJkcyA9IHJlcztcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy5jb21tb21QYXltZW50U2VydmljZS5zZXRQYXltZW50U3RvcmVkQ2FyZCh0aGlzLnN0b3JlZENhcmRzKTtcbiAgICAgICAgICBjb25zb2xlLmxvZygnY2FyZERldGFpbHMnLHRoaXMuc3RvcmVkQ2FyZHMpO1xuICAgICAgICB9KTtcbiAgICAgIH1lbHNle1xuICAgICAgICB0aGlzLnN0b3JlZENhcmRzID0gdGhpcy5wYXltZW50U3RvcmVkRGV0aWFscztcbiAgICAgICAgY29uc29sZS5sb2coJ2NhcmREZXRhaWxzYWZ0ZXInLHRoaXMuc3RvcmVkQ2FyZHMpO1xuICAgICAgfSBcbiAgICB9XG5cbiAgfVxuXG5cbiAgZHJvcGRvd24odmFsOmFueSl7XG4gICAgdGhpcy5jYXJkID1mYWxzZTtcbiAgICB0aGlzLnBheUVtaXR0ZXIuZW1pdChmYWxzZSk7XG4gICAgaWYodmFsLnZhbHVlID09ICdTZXQgdXAgbmV3IGRlYml0IG9yIGNyZWRpdCBjYXJkJyl7XG4gICAgICB0aGlzLmNhcmQgPSB0cnVlO1xuICAgICAgaWYodGhpcy5wb3J0YWxOYW1lICE9ICdBY2NlcHRQcm9wb3NhbCcpe1xuICAgICAgICB0aGlzLmJ1aWxkQ3JlZGl0Rm9ybXMoKTtcbiAgICAgIH1lbHNle1xuICAgICAgICB0aGlzLmJ1aWxkQ3JlZGl0Rm9ybVMoKTtcbiAgICAgIH1cbiAgICB9ZWxzZXtcbiAgICAgICAgaWYodGhpcy5zdG9yZWRDYXJkcy5zdG9yZWRDYXJkRGV0YWlscy5sZW5ndGggPT0gMSl7XG4gICAgICAgICAgdGhpcy5jYXJkU2VsZWN0ZWQodGhpcy5zdG9yZWRDYXJkcy5zdG9yZWRDYXJkRGV0YWlsc1swXS5pZCwndHMnKVxuICAgICAgICB9XG4gICAgICB0aGlzLmNhcmQgPSBmYWxzZTtcbiAgICB9XG4gICAgLy8gdGhpcy50cmFuc2xhdGUuZ2V0KFwiVXNlIGV4aXN0aW5nIGNyZWRpdCBjYXJkXCIpLnN1YnNjcmliZSh0cmFuc2xhdGlvbnMgPT4ge1xuICAgIC8vICAgaWYodmFsLnZhbHVlPT0gdHJhbnNsYXRpb25zKXtcbiAgICAvLyAgICAgdGhpcy5jYXJkPXRydWVcbiAgICAvLyAgICAgaWYodGhpcy5zdG9yZWRDYXJkcy5sZW5ndGggPT0gMSl7XG4gICAgLy8gICAgICAgdGhpcy5jYXJkU2VsZWN0ZWQodGhpcy5zdG9yZWRDYXJkc1swXS5pZCwndHMnKVxuICAgIC8vICAgICB9XG4gICAgLy8gICB9XG4gICAgLy8gICBlbHNle1xuICAgIC8vICAgICB0aGlzLmNhcmQ9ZmFsc2VcbiAgICAvLyAgICAgdGhpcy5idWlsZENyZWRpdEZvcm1zKClcbiAgICAvLyAgIH1cbiAgICAvLyB9KVxuXG4gIH1cblxuICBidWlsZENyZWRpdEZvcm1zKCl7XG4gICAgbGV0IGRhdGUgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkuc2xpY2UoMCwgMTApO1xuICAgIGxldCBpbnZvaWNlTm87XG4gICAgaWYodGhpcy5jYXJkUGF5bWVudERhdGEuaW52b2ljZURldGFpbHM/Lmludm9pY2VOdW1iZXIpe1xuICAgICAgaW52b2ljZU5vID0gdGhpcy5jYXJkUGF5bWVudERhdGEuaW52b2ljZURldGFpbHM/Lmludm9pY2VOdW1iZXIgPyBcIkludm9pY2Ugbm8gOiBcIit0aGlzLmNhcmRQYXltZW50RGF0YS5pbnZvaWNlRGV0YWlscy5pbnZvaWNlTnVtYmVyIDogJyc7XG4gICAgfWVsc2V7XG4gICAgICBpbnZvaWNlTm8gPSAnT3Bwb3J0dW5pdHkgbm86ICcgKyB0aGlzLmNhcmRQYXltZW50RGF0YS5vcHBvcnR1bml0eUlkXG4gICAgfVxuICAgIGxldCBwYXltZW50SWQ7XG4gICAgaWYodGhpcy5jYXJkUGF5bWVudERhdGE/LmNhcmRDaGFyZ2VzLmxlbmd0aCAhPSAwKXtcbiAgICAgIHBheW1lbnRJZCA9IHRoaXMuY2FyZFBheW1lbnREYXRhLmNhcmRDaGFyZ2VzW3RoaXMuY29tbW9tUGF5bWVudFNlcnZpY2UuY2FyZENoYXJnZXNdLnBheW1lbnRNZXRob2RJZFxuICAgIH1cbiAgICB0aGlzLmNyZWRpdEZvcm0gPSB0aGlzLmZiLmdyb3VwKHtcbiAgICAgIHBheW1lbnQ6IHRoaXMuZmIuZ3JvdXAoe1xuICAgICAgJ2NhcmRDaGFyZ2UnOiBbdGhpcy5jYXJkUGF5bWVudERhdGE/LmNhcmRDaGFyZ2VzWzBdLmNoYXJnZSA/IHRoaXMuY2FyZFBheW1lbnREYXRhLmNhcmRDaGFyZ2VzWzBdLmNoYXJnZSA6IHRoaXMuY2FyZFBheW1lbnREYXRhLnBheW1lbnRDaGFyZ2VbMF0uY2hhcmdlIF0sLy9pbmRleCBVSSBuZWVkZWRcbiAgICAgICdjYXJkTmFtZSc6IFt0aGlzLmNhcmRQYXltZW50RGF0YT8uY3VzdG9tZXJEZXRhaWxzPy5jdXN0b21lck5hbWUgPyB0aGlzLmNhcmRQYXltZW50RGF0YS5jdXN0b21lckRldGFpbHMuY3VzdG9tZXJOYW1lIDogdGhpcy5jYXJkUGF5bWVudERhdGEuY3VzdG9tZXJOYW1lLCBbVmFsaWRhdG9ycy5yZXF1aXJlZF0gXSxcbiAgICAgICdjYXJkTnVtYmVyJzogWycnLCBbVmFsaWRhdG9ycy5yZXF1aXJlZCwgQ3JlZGl0Q2FyZFZhbGlkYXRvcnMudmFsaWRhdGVDQ051bWJlcl1dLFxuICAgICAgJ2NhcmRDdmMnOiBbJycsIFtWYWxpZGF0b3JzLnJlcXVpcmVkLCBWYWxpZGF0b3JzLm1pbkxlbmd0aCgzKSwgVmFsaWRhdG9ycy5tYXhMZW5ndGgoNCldXSxcbiAgICAgICdwYXltZW50RGF0ZSc6IFtkYXRlXSxcbiAgICAgICdkZXNjcmlwdGlvbic6IFtpbnZvaWNlTm9dLFxuICAgICAgJ2lzcG9ydGFsJzogW3RydWUgXSxcbiAgICAgICdyZWZlcmVuY2UnOiBbaW52b2ljZU5vIF0sXG4gICAgICAnZW1haWwnOiBbdGhpcy5jYXJkUGF5bWVudERhdGE/LmN1c3RvbWVyRGV0YWlscz8uZW1haWxJZCA/IHRoaXMuY2FyZFBheW1lbnREYXRhLmN1c3RvbWVyRGV0YWlscy5lbWFpbElkIDogJycsW1ZhbGlkYXRvcnMucmVxdWlyZWQsIFZhbGlkYXRvcnMuZW1haWxdXSxcbiAgICAgICdleHBpcnknOiBbJycsIFtWYWxpZGF0b3JzLnJlcXVpcmVkLCBDcmVkaXRDYXJkVmFsaWRhdG9ycy52YWxpZGF0ZUV4cERhdGVdXSxcblxuICAgICAgXCJwYXltZW50TWV0aG9kXCI6W3BheW1lbnRJZCA/IHBheW1lbnRJZCA6ICcnXSxcbiAgICAgIFwiZG9udFNlbmRUb0FjY291bnRzXCI6WycnXSxcbiAgICAgIH0pXG5cbiAgICB9KTtcbiAgICB0aGlzLnBsYWNlaG9sZGVycyA9IHtuYW1lOiB0aGlzLmNhcmRQYXltZW50RGF0YT8uY3VzdG9tZXJEZXRhaWxzPy5jdXN0b21lck5hbWUgPyB0aGlzLmNhcmRQYXltZW50RGF0YS5jdXN0b21lckRldGFpbHMuY3VzdG9tZXJOYW1lOidGdWxsIE5hbWUnfTtcbiAgfVxuXG4gIGJ1aWxkQ3JlZGl0Rm9ybVMoKXtcbiAgICBsZXQgZGF0ZSA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKS5zbGljZSgwLCAxMCk7XG4gICAgbGV0IGludm9pY2VObztcbiAgICBpZih0aGlzLmNhcmRQYXltZW50RGF0YS5pbnZvaWNlRGV0YWlscz8uaW52b2ljZU51bWJlcil7XG4gICAgICBpbnZvaWNlTm8gPSB0aGlzLmNhcmRQYXltZW50RGF0YS5pbnZvaWNlRGV0YWlscz8uaW52b2ljZU51bWJlciA/IFwiSW52b2ljZSBubyA6IFwiK3RoaXMuY2FyZFBheW1lbnREYXRhLmludm9pY2VEZXRhaWxzLmludm9pY2VOdW1iZXIgOiAnJztcbiAgICB9ZWxzZXtcbiAgICAgIGludm9pY2VObyA9ICdPcHBvcnR1bml0eSBubzogJyArIHRoaXMuY2FyZFBheW1lbnREYXRhLm9wcG9ydHVuaXR5SWRcbiAgICB9XG4gICAgbGV0IHBheW1lbnRJZDtcbiAgICBpZih0aGlzLmNhcmRQYXltZW50RGF0YT8uY2FyZENoYXJnZXMubGVuZ3RoICE9IDApe1xuICAgICAgcGF5bWVudElkID0gdGhpcy5jYXJkUGF5bWVudERhdGEuY2FyZENoYXJnZXNbdGhpcy5jb21tb21QYXltZW50U2VydmljZS5jYXJkQ2hhcmdlc10ucGF5bWVudE1ldGhvZElkXG4gICAgfVxuICAgIHRoaXMuY3JlZGl0Rm9ybSA9IHRoaXMuZmIuZ3JvdXAoe1xuICAgICAgJ2Ftb3VudCc6IFt0aGlzLmNhcmRQYXltZW50RGF0YT8uc2hvd0RlcG9zaXQgPyB0aGlzLmNhcmRQYXltZW50RGF0YT8uc2hvd0RlcG9zaXQgOiAnJ10sXG4gICAgICAnY2FyZENoYXJnZSc6IFt0aGlzLmNhcmRQYXltZW50RGF0YT8uY2FyZENoYXJnZXNbMF0uY2hhcmdlID8gdGhpcy5jYXJkUGF5bWVudERhdGEuY2FyZENoYXJnZXNbMF0uY2hhcmdlIDogdGhpcy5jYXJkUGF5bWVudERhdGEucGF5bWVudENoYXJnZVswXS5jaGFyZ2UgXSwvL2luZGV4IFVJIG5lZWRlZFxuICAgICAgJ2NhcmROYW1lJzogW3RoaXMuY2FyZFBheW1lbnREYXRhPy5jdXN0b21lckRldGFpbHM/LmN1c3RvbWVyTmFtZSA/IHRoaXMuY2FyZFBheW1lbnREYXRhLmN1c3RvbWVyRGV0YWlscy5jdXN0b21lck5hbWUgOiB0aGlzLmNhcmRQYXltZW50RGF0YS5jdXN0b21lck5hbWUsIFtWYWxpZGF0b3JzLnJlcXVpcmVkXSBdLFxuICAgICAgJ2NhcmROdW1iZXInOiBbJycsIFtWYWxpZGF0b3JzLnJlcXVpcmVkLCBDcmVkaXRDYXJkVmFsaWRhdG9ycy52YWxpZGF0ZUNDTnVtYmVyXV0sXG4gICAgICAnY2FyZEN2Yyc6IFsnJywgW1ZhbGlkYXRvcnMucmVxdWlyZWQsIFZhbGlkYXRvcnMubWluTGVuZ3RoKDMpLCBWYWxpZGF0b3JzLm1heExlbmd0aCg0KV1dLFxuICAgICAgJ3BheW1lbnREYXRlJzogW2RhdGVdLFxuICAgICAgJ2Rlc2NyaXB0aW9uJzogW2ludm9pY2VOb10sXG4gICAgICAnaXNwb3J0YWwnOiBbdHJ1ZSBdLFxuICAgICAgJ3JlZmVyZW5jZSc6IFtpbnZvaWNlTm8gXSxcbiAgICAgICdlbWFpbCc6IFt0aGlzLmNhcmRQYXltZW50RGF0YT8uY3VzdG9tZXJEZXRhaWxzPy5lbWFpbElkID8gdGhpcy5jYXJkUGF5bWVudERhdGEuY3VzdG9tZXJEZXRhaWxzLmVtYWlsSWQgOiAnJyxbVmFsaWRhdG9ycy5yZXF1aXJlZCwgVmFsaWRhdG9ycy5lbWFpbF1dLFxuICAgICAgJ2V4cGlyeSc6IFsnJywgW1ZhbGlkYXRvcnMucmVxdWlyZWQsIENyZWRpdENhcmRWYWxpZGF0b3JzLnZhbGlkYXRlRXhwRGF0ZV1dLFxuXG4gICAgICBcInBheW1lbnRNZXRob2RcIjpbcGF5bWVudElkID8gcGF5bWVudElkIDogJyddLFxuICAgICAgXCJkb250U2VuZFRvQWNjb3VudHNcIjpbJyddLFxuICAgIH0pO1xuICAgIHRoaXMucGxhY2Vob2xkZXJzID0ge25hbWU6IHRoaXMuY2FyZFBheW1lbnREYXRhPy5jdXN0b21lckRldGFpbHM/LmN1c3RvbWVyTmFtZSA/IHRoaXMuY2FyZFBheW1lbnREYXRhLmN1c3RvbWVyRGV0YWlscy5jdXN0b21lck5hbWU6J0Z1bGwgTmFtZSd9O1xuICB9XG5cbiAgY29tcGFueU5hbWVDbGljaygpe1xuICAgIHRoaXMuY29tcGFueU5hbWVTZWxlY3RlZD0hdGhpcy5jb21wYW55TmFtZVNlbGVjdGVkO1xuICAgIHRoaXMuY3JlZGl0Rm9ybS5wYXRjaFZhbHVlKHsncGF5bWVudCc6eydjYXJkTmFtZSc6Jyd9fSk7XG4gIH1cbiAga2V5cHJlc3MoKXtcbiAgICB0aGlzLnBheUVtaXR0ZXIuZW1pdCh0aGlzLmNyZWRpdEZvcm0pO1xuICB9XG4gIHNldENhcmRUeXBlKCl7XG4gICAgdGhpcy5jYXJkTG9nbz10aGlzLmRldGVjdENhcmRUeXBlKHRoaXMuY3JlZGl0Rm9ybS52YWx1ZS5wYXltZW50LmNhcmROdW1iZXIucmVwbGFjZSgvXFxzL2csIFwiXCIpKVxuICAgIHZhciBjYXJkU3RhdHVzID0gdGhpcy5jcmVkaXRGb3JtLmdldCgncGF5bWVudC5jYXJkTnVtYmVyJylcbiAgICBpZih0aGlzLmlzQ2FyZE51bWJlckxlbmd0aCAmJiBjYXJkU3RhdHVzPy5zdGF0dXMgPT0gXCJJTlZBTElEXCIpdGhpcy5pc0NhcmROdW1iZXJMZW5ndGg9ZmFsc2U7XG4gICAgaWYoIXRoaXMuaXNDYXJkTnVtYmVyTGVuZ3RoICYmIGNhcmRTdGF0dXM/LnN0YXR1cyA9PSBcIlZBTElEXCIpdGhpcy5pc0NhcmROdW1iZXJMZW5ndGg9dHJ1ZTtcbiAgICB0aGlzLnBheUVtaXR0ZXIuZW1pdCh0aGlzLmNyZWRpdEZvcm0pO1xuICAgIHRoaXMuY2FyZEltZyA9IFwiYXNzZXRzL3BheW1lbnRUeXBlL1wiK3RoaXMuY2FyZExvZ28rXCIuc3ZnXCJcbiAgfVxuICBkZWZhdWx0Q2FyZCgpe1xuICAgIHRoaXMuY2FyZEltZyA9IFwiYXNzZXRzL3BheW1lbnRUeXBlL2NhcmQuc3ZnXCJcbiAgfVxuICBlcnJvckhhbmRsZXIoKSB7XG4gICAgdGhpcy5jYXJkTG9nbyA9ICdjYXJkJztcbiB9XG4gIGNhcmRTZWxlY3RlZCh2YWw6YW55LGZyb206c3RyaW5nKXtcbiAgICBpZihmcm9tPT0naHRtbCcpe1xuICAgICAgdmFsPXZhbC52YWx1ZVxuICAgIH1cbiAgICB0aGlzLmNhcmRTZWxlY3RlZFR5cGUgPSBmcm9tO1xuICAgIHRoaXMuY2FyZFR5cGU9dmFsLnRvU3RyaW5nKCk7XG5cbiAgICB2YXIgaW50QXJyID0gdGhpcy5jYXJkVHlwZS5zcGxpdChcIixcIik7XG4gICAgaW50QXJyLmZvckVhY2goKGVsZW1lbnQ6YW55KSA9PiB7XG4gICAgICBjb25zdCB0YWdzRGF0YSA9IHRoaXMuc3RvcmVkQ2FyZHMuc3RvcmVkQ2FyZERldGFpbHMuZmluZCgoeDphbnkpID0+IHhbJ2lkJ10gPT0gZWxlbWVudCk7XG4gICAgICB0aGlzLmNhcmRMb2dvID0gdGFnc0RhdGEuY2FyZF90eXBlO1xuICAgIH0pO1xuXG4gICAgbGV0IGRhdGUgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkuc2xpY2UoMCwgMTApO1xuICAgIGxldCBpbnZvaWNlTnVtYmVyID0gdGhpcy5jYXJkUGF5bWVudERhdGEuaW52b2ljZURldGFpbHM/Lmludm9pY2VOdW1iZXIgPyBcIkludm9pY2Ugbm8gOiAjXCIrdGhpcy5jYXJkUGF5bWVudERhdGEuaW52b2ljZURldGFpbHMuaW52b2ljZU51bWJlciA6ICcnO1xuICAgIHRoaXMuY3JlZGl0Rm9ybSA9IHRoaXMuZmIuZ3JvdXAoe1xuICAgICAgICAncGF5bWVudERhdGUnIDogW2RhdGUsIFtWYWxpZGF0b3JzLnJlcXVpcmVkXSBdLFxuICAgICAgICAnZGVzY3JpcHRpb24nIDogW2ludm9pY2VOdW1iZXJdLFxuICAgICAgICAncmVmZXJlbmNlJyA6IFtpbnZvaWNlTnVtYmVyIF0sXG4gICAgICAgICdwYXltZW50TWV0aG9kJyA6IFt0aGlzLmNhcmRQYXltZW50RGF0YS5jYXJkQ2hhcmdlc1t0aGlzLmNvbW1vbVBheW1lbnRTZXJ2aWNlLmNhcmRDaGFyZ2VzXS5wYXltZW50TWV0aG9kSWQsIFtWYWxpZGF0b3JzLnJlcXVpcmVkXV0sXG4gICAgICAgICdzdG9yZWRDYXJkJyA6IFt2YWwsIFtWYWxpZGF0b3JzLnJlcXVpcmVkXV0sXG4gICAgICAgICdjYXJkTmFtZScgOiBbdGhpcy5jYXJkUGF5bWVudERhdGEuY3VzdG9tZXJEZXRhaWxzLmN1c3RvbWVyTmFtZSwgW1ZhbGlkYXRvcnMucmVxdWlyZWRdXSxcbiAgICAgICAgJ2Ftb3VudCcgOiBbXSxcbiAgICAgICAgJ2NhcmRDaGFyZ2UnIDogW3RoaXMuY2FyZFBheW1lbnREYXRhLmNhcmRDaGFyZ2VzW3RoaXMuY29tbW9tUGF5bWVudFNlcnZpY2UuY2FyZENoYXJnZXNdLmNoYXJnZSwgXSxcbiAgICAgICAgJ2lzUG9ydGFsJyA6IFt0cnVlXSxcbiAgICAgIH0pO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHRoaXMucGF5RW1pdHRlci5lbWl0KHRoaXMuY3JlZGl0Rm9ybSk7XG4gICAgICB9LCAxMDApO1xufVxuXG5kZXRlY3RDYXJkVHlwZShudW1iZXI6bnVtYmVyKSB7XG4gIHZhciByZSA6YW55ID0ge1xuICAgICAgZWxlY3Ryb246IC9eKDQwMjZ8NDE3NTAwfDQ0MDV8NDUwOHw0ODQ0fDQ5MTN8NDkxNylcXGQrJC8sXG4gICAgICBtYWVzdHJvOiAvXig1MDE4fDUwMjB8NTAzOHw1NjEyfDU4OTN8NjMwNHw2NzU5fDY3NjF8Njc2Mnw2NzYzfDA2MDR8NjM5MClcXGQrJC8sXG4gICAgICBkYW5rb3J0OiAvXig1MDE5KVxcZCskLyxcbiAgICAgIGludGVycGF5bWVudDogL14oNjM2KVxcZCskLyxcbiAgICAgIHVuaW9ucGF5OiAvXig2Mnw4OClcXGQrJC8sXG4gICAgICAnVmlzYSc6IC9eNFswLTldezEyfSg/OlswLTldezN9KT8kLyxcbiAgICAgICdNYXN0ZXJDYXJkJzogL141WzEtNV1bMC05XXsxNH0kLyxcbiAgICAgICdBbWVyaWNhbiBFeHByZXNzJzogL14zWzQ3XVswLTldezEzfSQvLFxuICAgICAgZGluZXJzOiAvXjMoPzowWzAtNV18WzY4XVswLTldKVswLTldezExfSQvLFxuICAgICAgZGlzY292ZXI6IC9eNig/OjAxMXw1WzAtOV17Mn0pWzAtOV17MTJ9JC8sXG4gICAgICBqY2I6IC9eKD86MjEzMXwxODAwfDM1XFxkezN9KVxcZHsxMX0kL1xuICB9XG5cbiAgZm9yKHZhciBrZXkgaW4gcmUpIHtcbiAgICAgIGlmKHJlW2tleV0udGVzdChudW1iZXIpKSB7XG4gICAgICAgIHJldHVybiBrZXlcbiAgICAgIH1cbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cblxufVxuIiwiPGRpdiBjbGFzcz1cImNvbnRlbnQtZ3JvdXBcIiAqbmdJZj1cInN0b3JlZENhcmRzLmxlbmd0aCAhPSAwXCI+XG4gICAgPGRpdiBjbGFzcz1cImNvbnRlbnQtZ3JvdXBcIiBzdHlsZT1cIm1hcmdpbi1ib3R0b206LTE2cHhcIiAqbmdJZj1cInBvcnRhbE5hbWUgIT0gJ0FjY2VwdFByb3Bvc2FsJ1wiPlxuICAgICAgICA8c2VsZWN0IChjaGFuZ2UpPVwiZHJvcGRvd24oJGV2ZW50LnRhcmdldClcIj5cbiAgICAgICAgICAgIDxvcHRpb24+VXNlIGV4aXN0aW5nIGNyZWRpdCBjYXJkPC9vcHRpb24+XG4gICAgICAgICAgICA8b3B0aW9uPlNldCB1cCBuZXcgZGViaXQgb3IgY3JlZGl0IGNhcmQ8L29wdGlvbj5cbiAgICAgICAgPC9zZWxlY3Q+PGkgY2xhc3M9XCJmYS1zb2xpZCBmYS1hbmdsZS1kb3duXCI+PC9pPlxuICAgICAgICA8ZGl2IGNsYXNzPVwidmhcIj48L2Rpdj5cbiAgICA8L2Rpdj5cbjwvZGl2PlxuXG48ZGl2ICpuZ0lmPVwiY2FyZFwiPlxuICAgIDxkaXYgY2xhc3M9XCJjb250ZW50LWdyb3VwIGdyb3VwLWNhcmRcIiBzdHlsZT1cIm1hcmdpbi10b3A6MzJweDttYXJnaW4tYm90dG9tOiAwO1wiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwibGFibGVcIj5TZWxlY3QgY2FyZDwvZGl2PlxuICAgICAgICA8c2VsZWN0IChzZWxlY3RlZCk9XCJjYXJkU2VsZWN0ZWQoJGV2ZW50LnRhcmdldCwnaHRtbCcpXCJcbiAgICAgICAgICAgIFtuZ1N0eWxlXT1cInsncGFkZGluZy1sZWZ0JzogY2FyZFNlbGVjdGVkVHlwZSA9PSAnaHRtbCcgfHwgY2FyZFNlbGVjdGVkVHlwZSA9PSAndHMnICA/ICc0NnB4JyA6ICcnIH1cIj5cbiAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJcIiBkaXNhYmxlZCBzZWxlY3RlZCBoaWRkZW4+UGxlYXNlIHNlbGVjdDwvb3B0aW9uPlxuICAgICAgICAgICAgPG9wdGlvbiAqbmdGb3I9XCJsZXQgY2FyZCBvZiBzdG9yZWRDYXJkcy5zdG9yZWRDYXJkRGV0YWlsc1wiXG4gICAgICAgICAgICAgICAgW3NlbGVjdGVkXT1cInN0b3JlZENhcmRzLnN0b3JlZENhcmREZXRhaWxzLmxlbmd0aCA9PSAxXCIgW3ZhbHVlXT1cImNhcmQuaWRcIj48c3BhblxuICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImNhcmREZXNjcmlwdGlvblwiPlhYWFggLSBYWFhYIC0gWFhYWCAtXG4gICAgICAgICAgICAgICAgICAgIHt7Y2FyZC5kZXNjcmlwdGlvbi5zdWJzdHJpbmcoY2FyZC5kZXNjcmlwdGlvbi5pbmRleE9mKCd3aXRoJykgKyA0KXwgc2xpY2U6MDo1IH19PC9zcGFuPjwvb3B0aW9uPlxuICAgICAgICA8L3NlbGVjdD48aSBjbGFzcz1cImZhLXNvbGlkIGZhLWFuZ2xlLWRvd25cIj48L2k+XG4gICAgPC9kaXY+XG4gICAgPGRpdiAqbmdJZj1cImNhcmRTZWxlY3RlZFR5cGUgPT0gJ2h0bWwnIHx8IGNhcmRTZWxlY3RlZFR5cGUgPT0gJ3RzJ1wiPlxuICAgICAgICA8aW1nIGNsYXNzPVwic3RvcmVkLWljb24tYWxpZ25zXCIgc3JjPVwiYXNzZXRzL3BheW1lbnRUeXBlL3t7Y2FyZExvZ299fS5zdmdcIiAoZXJyb3IpPVwiZXJyb3JIYW5kbGVyKClcIj5cbiAgICA8L2Rpdj5cbjwvZGl2PlxuPGRpdiAqbmdJZj1cIiFjYXJkXCI+XG4gICAgPGRpdiAqbmdJZj1cInBvcnRhbE5hbWUgIT0gJ0FjY2VwdFByb3Bvc2FsJ1wiPlxuICAgICAgICA8Zm9ybSBbZm9ybUdyb3VwXT1cImNyZWRpdEZvcm1cIiBjYXJkIGNvbnRhaW5lcj1cIi5jYXJkLWNvbnRhaW5lclwiIFtjYXJkLXdpZHRoXT1cIjQxMFwiIFttZXNzYWdlc109XCJtZXNzYWdlc1wiXG4gICAgICAgICAgICBbcGxhY2Vob2xkZXJzXT1cInBsYWNlaG9sZGVyc1wiIFttYXNrc109XCJtYXNrc1wiIFtmb3JtYXR0aW5nXT1cImZvcm1hdHRpbmdcIiBbZGVidWddPVwiZGVidWdcIj5cbiAgICAgICAgICAgIDxuZy1jb250YWluZXIgZm9ybUdyb3VwTmFtZT1cInBheW1lbnRcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicm93XCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtbWQtNiBjcmVkaXQtY2FyZC1oaWRlXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2FyZC1jb250YWluZXJcIj5cblxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLW1kLTZcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb250ZW50LWdyb3VwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiAqbmdJZj1cIiFjb21wYW55TmFtZVNlbGVjdGVkXCIgY2xhc3M9XCJsYWJsZSByZXF1aXJlZFwiPkNhcmRob2xkZXIncyBuYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiAqbmdJZj1cImNvbXBhbnlOYW1lU2VsZWN0ZWRcIiBjbGFzcz1cImxhYmxlIHJlcXVpcmVkXCI+Q29tcGFueSBuYW1lPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IGNsYXNzPVwiZmllbGRcIiB0eXBlPVwidGV4dFwiIGNhcmQtbmFtZSBmb3JtQ29udHJvbE5hbWU9XCJjYXJkTmFtZVwiIChrZXl1cCk9XCJrZXlwcmVzcygpXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiAqbmdJZj1cIiFjb21wYW55TmFtZVNlbGVjdGVkXCIgY2xhc3M9XCJjb21wYW55LW5hbWUtbGlua1wiIChjbGljayk9XCJjb21wYW55TmFtZUNsaWNrKClcIj5PclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGljayBoZXJlIHRvIHVzZSBhIGNvbXBhbnkgbmFtZTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgKm5nSWY9XCJjb21wYW55TmFtZVNlbGVjdGVkXCIgY2xhc3M9XCJjb21wYW55LW5hbWUtbGlua1wiIChjbGljayk9XCJjb21wYW55TmFtZUNsaWNrKClcIj5PclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGljayBoZXJlIHRvIHVzZSB5b3VyIHBlcnNvbmFsIGluZm9ybWF0aW9uPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb250ZW50LWdyb3VwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImxhYmxlIHJlcXVpcmVkXCI+Q2FyZCBudW1iZXI8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgY2xhc3M9XCJmaWVsZFwiIHR5cGU9XCJ0ZWxcIiBhdXRvY29tcGxldGU9XCJjYy1udW1iZXJcIiBjYXJkLW51bWJlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3JtQ29udHJvbE5hbWU9XCJjYXJkTnVtYmVyXCIgbWF4bGVuZ3RoPVwiMTlcIiBwbGFjZWhvbGRlcj1cInh4eHggeHh4eCB4eHh4IHh4eHhcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoa2V5dXApPVwic2V0Q2FyZFR5cGUoKVwiIFtjbGFzcy5lcnJvcl9maWVsZF09XCIhaXNDYXJkTnVtYmVyTGVuZ3RoXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGltZyAqbmdJZj1cImNhcmRMb2dvXCIgY2xhc3M9XCJpY29uLWFsaWduXCIgc3JjPVwie3tjYXJkSW1nfX1cIiAoZXJyb3IpPVwiZGVmYXVsdENhcmQoKVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsdD1cImNhcmQgbmFtZVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicm93IHJvdy1ncm91cFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wgY29udGVudC1ncm91cFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibGFibGUgcmVxdWlyZWRcIj5DVkM8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IGNsYXNzPVwiZmllbGRcIiB0eXBlPVwicGFzc3dvcmRcIiBhdXRvY29tcGxldGU9XCJuZXctcGFzc3dvcmRcIiBwYXR0ZXJuPVwiWzAtOV0qXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0bW9kZT1cIm51bWVyaWNcIiBjYXJkLWN2YyBwbGFjZWhvbGRlcj1cInh4eFwiIGZvcm1Db250cm9sTmFtZT1cImNhcmRDdmNcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGtleXVwKT1cImtleXByZXNzKClcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sIGNvbnRlbnQtZ3JvdXBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImxhYmxlIHJlcXVpcmVkXCI+RXhwIGRhdGU8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IGNsYXNzPVwiZmllbGRcIiB0eXBlPVwidGVsXCIgYXV0b2NvbXBsZXRlPVwiY2MtZXhwXCIgY2FyZC1leHBpcnlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1Db250cm9sTmFtZT1cImV4cGlyeVwiIHBsYWNlaG9sZGVyPVwiTU0gLyBZWVwiIChrZXl1cCk9XCJrZXlwcmVzcygpXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbnRlbnQtZ3JvdXBcIiBzdHlsZT1cIm1hcmdpbi1ib3R0b206IDA7XCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJsYWJsZSByZXF1aXJlZFwiPkVtYWlsIGFkZHJlc3M8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGlucHV0IGNsYXNzPVwiZmllbGRcIiBmb3JtQ29udHJvbE5hbWU9XCJlbWFpbFwiIHR5cGU9XCJlbWFpbFwiIChrZXl1cCk9XCJrZXlwcmVzcygpXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJlbWFpbC1pbmZvXCI+VGhpcyBlbWFpbCB3aWxsIG9ubHkgYmUgdXNlZCB0byBrZWVwIHlvdSB1cGRhdGVkIGFib3V0IHRoZWlyIHBheW1lbnRzPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L25nLWNvbnRhaW5lcj5cbiAgICAgICAgPC9mb3JtPlxuICAgIDwvZGl2PlxuICAgIDxkaXYgKm5nSWY9XCJwb3J0YWxOYW1lID09ICdBY2NlcHRQcm9wb3NhbCdcIj5cbiAgICAgICAgPGZvcm0gW2Zvcm1Hcm91cF09XCJjcmVkaXRGb3JtXCIgY2FyZCBjb250YWluZXI9XCIuY2FyZC1jb250YWluZXJcIiBbY2FyZC13aWR0aF09XCI0MTBcIiBbbWVzc2FnZXNdPVwibWVzc2FnZXNcIlxuICAgICAgICAgICAgW3BsYWNlaG9sZGVyc109XCJwbGFjZWhvbGRlcnNcIiBbbWFza3NdPVwibWFza3NcIiBbZm9ybWF0dGluZ109XCJmb3JtYXR0aW5nXCIgW2RlYnVnXT1cImRlYnVnXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwicm93XCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1tZC02IGNyZWRpdC1jYXJkLWhpZGVcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNhcmQtY29udGFpbmVyXCI+XG5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1tZC02XCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb250ZW50LWdyb3VwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2ICpuZ0lmPVwiIWNvbXBhbnlOYW1lU2VsZWN0ZWRcIiBjbGFzcz1cImxhYmxlIHJlcXVpcmVkXCI+Q2FyZGhvbGRlcidzIG5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiAqbmdJZj1cImNvbXBhbnlOYW1lU2VsZWN0ZWRcIiBjbGFzcz1cImxhYmxlIHJlcXVpcmVkXCI+Q29tcGFueSBuYW1lPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgY2xhc3M9XCJmaWVsZFwiIHR5cGU9XCJ0ZXh0XCIgY2FyZC1uYW1lIGZvcm1Db250cm9sTmFtZT1cImNhcmROYW1lXCIgKGtleXVwKT1cImtleXByZXNzKClcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgKm5nSWY9XCIhY29tcGFueU5hbWVTZWxlY3RlZFwiIGNsYXNzPVwiY29tcGFueS1uYW1lLWxpbmtcIiAoY2xpY2spPVwiY29tcGFueU5hbWVDbGljaygpXCI+T3JcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGljayBoZXJlIHRvIHVzZSBhIGNvbXBhbnkgbmFtZTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiAqbmdJZj1cImNvbXBhbnlOYW1lU2VsZWN0ZWRcIiBjbGFzcz1cImNvbXBhbnktbmFtZS1saW5rXCIgKGNsaWNrKT1cImNvbXBhbnlOYW1lQ2xpY2soKVwiPk9yIGNsaWNrXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVyZSB0byB1c2UgeW91ciBwZXJzb25hbCBpbmZvcm1hdGlvbjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbnRlbnQtZ3JvdXBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJsYWJsZSByZXF1aXJlZFwiPkNhcmQgbnVtYmVyPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgY2xhc3M9XCJmaWVsZFwiIHR5cGU9XCJ0ZWxcIiBhdXRvY29tcGxldGU9XCJjYy1udW1iZXJcIiBjYXJkLW51bWJlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1Db250cm9sTmFtZT1cImNhcmROdW1iZXJcIiBtYXhsZW5ndGg9XCIxOVwiIHBsYWNlaG9sZGVyPVwieHh4eCB4eHh4IHh4eHggeHh4eFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKGtleXVwKT1cInNldENhcmRUeXBlKClcIiBbY2xhc3MuZXJyb3JfZmllbGRdPVwiIWlzQ2FyZE51bWJlckxlbmd0aFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGltZyAqbmdJZj1cImNhcmRMb2dvXCIgY2xhc3M9XCJpY29uLWFsaWduXCIgc3JjPVwie3tjYXJkSW1nfX1cIiAoZXJyb3IpPVwiZGVmYXVsdENhcmQoKVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWx0PVwiY2FyZCBuYW1lXCI+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicm93IHJvdy1ncm91cFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbCBjb250ZW50LWdyb3VwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImxhYmxlIHJlcXVpcmVkXCI+Q1ZDPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IGNsYXNzPVwiZmllbGRcIiB0eXBlPVwicGFzc3dvcmRcIiBhdXRvY29tcGxldGU9XCJuZXctcGFzc3dvcmRcIiBwYXR0ZXJuPVwiWzAtOV0qXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXRtb2RlPVwibnVtZXJpY1wiIGNhcmQtY3ZjIHBsYWNlaG9sZGVyPVwieHh4XCIgZm9ybUNvbnRyb2xOYW1lPVwiY2FyZEN2Y1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChrZXl1cCk9XCJrZXlwcmVzcygpXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wgY29udGVudC1ncm91cFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJsYWJsZSByZXF1aXJlZFwiPkV4cCBkYXRlPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IGNsYXNzPVwiZmllbGRcIiB0eXBlPVwidGVsXCIgYXV0b2NvbXBsZXRlPVwiY2MtZXhwXCIgY2FyZC1leHBpcnkgZm9ybUNvbnRyb2xOYW1lPVwiZXhwaXJ5XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJNTSAvIFlZXCIgKGtleXVwKT1cImtleXByZXNzKClcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbnRlbnQtZ3JvdXBcIiBzdHlsZT1cIm1hcmdpbi1ib3R0b206IDA7XCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImxhYmxlIHJlcXVpcmVkXCI+RW1haWwgYWRkcmVzczwvZGl2PlxuICAgICAgICAgICAgICAgIDxpbnB1dCBjbGFzcz1cImZpZWxkXCIgZm9ybUNvbnRyb2xOYW1lPVwiZW1haWxcIiB0eXBlPVwiZW1haWxcIiAoa2V5dXApPVwia2V5cHJlc3MoKVwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJlbWFpbC1pbmZvXCI+VGhpcyBlbWFpbCB3aWxsIG9ubHkgYmUgdXNlZCB0byBrZWVwIHlvdSB1cGRhdGVkIGFib3V0IHRoZWlyIHBheW1lbnRzPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9mb3JtPlxuICAgIDwvZGl2PlxuPC9kaXY+Il19